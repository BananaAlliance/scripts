"use strict";(self.webpackChunk_rise_wallet_solflare_extension=self.webpackChunk_rise_wallet_solflare_extension||[]).push([["OnboardPage"],{"../solflare-web/src/pages/Onboard/index.js":function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a("../../../node_modules/react/jsx-runtime.js"),s=a("../../../node_modules/react/index.js"),o=a("../../../node_modules/prop-types/index.js"),i=a.n(o),r=a("../../../node_modules/react-router/esm/react-router.js"),l=a("../solflare-web/src/pages/Onboard/Chooser.js"),c=a("../solflare-web/src/pages/Onboard/Create/index.js"),d=a("../solflare-web/src/pages/Onboard/Access/index.js"),u=a("../solflare-web/src/pages/Onboard/Ledger/index.js"),p=a("../solflare-web/src/pages/Onboard/Keystone/index.js"),m=a("../solflare-web/src/pages/Onboard/Metamask/index.js"),b=a("../../libs/solflare-shared/dist/features/Onboard/index.js"),h=a("../../libs/solflare-shared/dist/utils/extension.js");class f extends s.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.rs,{children:[(0,n.jsx)(r.AW,{path:"/onboard/ledger",component:u.Z}),!h.p1&&(0,n.jsx)(r.AW,{path:"/onboard/metamask",component:m.Z}),(0,n.jsx)(r.AW,{path:"/onboard/keystone",component:p.Z}),(0,n.jsx)(r.AW,{path:"/onboard/access",component:d.Z}),(0,n.jsx)(r.AW,{path:"/onboard/create",component:c.Z}),(0,n.jsx)(r.AW,{path:"/onboard/shortcut",component:b.z9}),(0,n.jsx)(r.AW,{path:"/onboard/success",component:b.fB}),(0,n.jsx)(r.AW,{path:"/onboard",component:l.Z})]})})}}f.propTypes={t:i().func}},"../../libs/solflare-shared/dist/components/Onboarding/Metamask/index.js":function(e,t,a){a.d(t,{lj:function(){return m},bb:function(){return y},Cg:function(){return l}});var n=a("../../../node_modules/react/jsx-runtime.js"),s=a("../../../node_modules/react/index.js"),o=a("../../libs/foundation-ui/dist/index.js"),i=a("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=a("../../../node_modules/react-lottie-player/dist/LottiePlayer.modern.js");const l=({nextStep:e,lastStep:t})=>{const[l,c]=(0,s.useState)(t?4:1),[d,u]=(0,s.useState)([]),{t:p}=(0,i.$)();(0,s.useEffect)((()=>{(async()=>{const e=await Promise.all([a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_tutorialStepOne_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/tutorialStepOne.json",19)),a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_tutorialStepTwo_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/tutorialStepTwo.json",19)),a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_tutorialStepThree_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/tutorialStepThree.json",19)),a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_tutorialStepFour_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/tutorialStepFour.json",19))]);u(e)})()}),[l]);const m=(0,s.useMemo)((()=>{switch(l){case 1:default:return{title:"Enter Solana with MetaMask Snap",description:"You’re about to install the Solana Snap which allows you to manage Solana tokens, NFTs, and connect to Solana apps!",onNextClick:()=>c(2)};case 2:return{title:"Solflare - Your Solana Companion",description:"Once you’ve installed the Solana Snap, every time you connect to Solana apps, the Solflare widget will be right at your side. View and manage your Solana assets, all of which are securely stored in your MetaMask.",onPrevClick:()=>c(1),onNextClick:()=>c(3)};case 3:return{title:"Experience the Full Power of Solflare",description:"You can manage Solana tokens, collect and trade NFTs, swap assets, stake SOL, monitor activity, and effortlessly bridge to Solana. Unlock all of Solflare’s features from the comfort of your MetaMask.",onPrevClick:()=>c(2),onNextClick:()=>c(4)};case 4:return{title:"Stay Secure with Solflare",description:"The Solflare widget protects you by providing easy-to-understand balance changes for each transaction. Know exactly what you are signing before approving in MetaMask.",onPrevClick:()=>c(3),onNextClick:e}}}),[e,l]);return(0,n.jsx)(o.hUF,{...m,illustration:d[l-1]?(0,n.jsx)(r.Z,{loop:!0,play:!0,animationData:d[l-1]}):(0,n.jsx)("div",{}),nextButton:{onClick:m?.onNextClick,title:p("action_continue")},prevButton:m.onPrevClick?{onClick:m.onPrevClick,title:p("action_back")}:void 0})};var c=a("../../../node_modules/react-redux/es/index.js"),d=a("../../libs/wallet-core/dist/solana/metamask.js"),u=a("../../libs/solflare-shared/dist/store/actions/snackbar.js"),p=a("../../libs/wallet-core/dist/solana/metamaskCore.js");const m=({prevStep:e,nextStep:t})=>{const[l,m]=(0,s.useState)(!1),[b,h]=(0,s.useState)(!0),[f,_]=(0,s.useState)(null),{t:k}=(0,i.$)(),j=(0,c.I0)();(0,s.useEffect)((()=>{(async()=>{await(0,p.Ck)()?h(!1):h(!0)})(),(async()=>{const e=await a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_connect_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/connect.json",19));_(e)})()}),[]);const y=(0,s.useCallback)((async()=>{m(!0);try{await d.c.connect(),t()}catch(e){await j((0,u.yv)({message:"Connection rejected",options:{variant:"error",autoHideDuration:5e3}}))}finally{m(!1)}}),[j,t]);return(0,n.jsx)(o.hUF,{illustration:f?(0,n.jsx)(r.Z,{loop:!0,play:!0,animationData:f}):(0,n.jsx)("div",{}),title:"Are You Ready to Explore Solana?",description:'Click "Continue" and follow the instructions in MetaMask to install the Solana Snap. In just a few steps, you\'ll be ready to experience Solana with MetaMask.',nextButton:{onClick:y,title:l?"Connecting":b?"MetaMask not detected":"Connect Metamask",disabled:l||b,isLoading:l},prevButton:{onClick:e,title:k("action_back"),disabled:l}})};var b=a("../../../node_modules/lodash/lodash.js"),h=a("../../libs/shared/dist/features/currencies/index.js"),f=a("../../libs/solflare-shared/dist/store/selectors/config.js"),_=a("../../libs/solflare-shared/dist/features/walletManagement/api/index.js"),k=a("../../libs/solflare-shared/dist/features/walletManagement/utils/index.js"),j=a("../../libs/wallet-core/dist/solana/shared.js");const y=({updateData:e,data:t,onImport:i,prevStep:l})=>{const u=(()=>{const e=(0,h.Af)(),t=(0,c.v9)(f.eN);return(0,s.useCallback)((async(a,n=j.R7)=>{let s=null;try{s=await(0,_.ld)({pubkeys:a.map((e=>(0,k.z_)(e,j.oH[n]))),network:t.cluster,currency:e.ticker,general:!1})}catch(e){e.partialData&&(s=e.partialData)}return s?(s?.data||[]).map((e=>({pubkey:e.publicKey,value:e.value??0}))).filter((e=>e.value>0)):[]}),[e,t.cluster])})(),[p,m]=(0,s.useState)(!1),[y,x]=(0,s.useState)(null),[g,S]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{const[e,t]=await Promise.all([a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_import_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/import.json",19)),a.e("libs_solflare-shared_dist_components_Onboarding_Metamask_animations_error_json").then(a.t.bind(a,"../../libs/solflare-shared/dist/components/Onboarding/Metamask/animations/error.json",19))]);x(e),S(t)})(),w()}),[]);const w=async()=>{try{const a=await(async(e=10,t)=>{const a=[];for(let n=0;n<e;n++)a.push({publicKey:await d.c.getPublicKey(t,n),index:n});return(0,b.uniq)(a)})(10,t.derivationPath),n=await u(a.map((e=>e.publicKey)));let s=[];0===n.length?s.push(a[0]):s=a.filter((e=>n.some((t=>t.pubkey===e.publicKey))));const o=s.map((e=>({address:e.publicKey,index:e.index})));await e({allAccounts:a,activeAccountsPerPath:o}),i(t.derivationPath,o)}catch(e){m(!0)}},M=(0,s.useMemo)((()=>p?{key:"errorAnimation",illustration:g,title:"Something Went Wrong",description:"Please check your internet connection and try again. If you keep experiencing issues, please contact our support team.",nextButton:{onClick:()=>window.open("https://academy.solflare.com/guides/?get_help=true","_blank"),title:"Contact support"},prevButton:{onClick:l,title:"Back"}}:{key:"animation",illustration:y,title:"Setting up Your Wallet"}),[y,p,g,l]);return(0,n.jsx)(o.hUF,{...M,illustration:(0,n.jsx)(r.Z,{loop:!p,play:!0,animationData:M?.illustration},M.key)})};(0,a("../../../node_modules/@mui/styles/makeStyles/makeStyles.js").Z)((()=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:0}})))}}]);