"use strict";(self.webpackChunk_rise_wallet_solflare_extension=self.webpackChunk_rise_wallet_solflare_extension||[]).push([["SettingsPage"],{"./src/pages/Settings/index.tsx":function(e,s,t){t.r(s),t.d(s,{default:function(){return ee}});var n=t("../../../node_modules/react/jsx-runtime.js"),i=t("../../../node_modules/react/index.js"),r=t("../../../node_modules/react-router/esm/react-router.js"),l=t("../../libs/solflare-shared/dist/features/settings/index.js"),a=t("../../libs/foundation-ui/dist/index.js"),o=t("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),c=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),d=t("../../libs/solflare-shared/dist/features/settings/hooks/index.js"),_=t("../../libs/solflare-shared/dist/constants/networks.js"),u=t("../../libs/solflare-shared/dist/features/settings/constants/index.js"),x=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),t=(0,d.uJ)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.V1P,{center:e("header_settings"),textAlign:"left"}),(0,n.jsx)(a.JHu,{noBottomPadding:!0,children:(0,n.jsx)(a.UVe,{data:[{title:e("settings_main_general"),subtitle:e("settings_main_general_description2"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.cRF}),onClick:()=>s.push(u.l.GENERAL.HOME)},{title:e("settings_address_book_header"),subtitle:e("settings_address_book_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.hVn}),onClick:()=>window.open("/wallet.html#/settings/address","_blank")},...t.cluster===_.EE.mainnet?[{title:e("settings_notifications"),subtitle:e("settings_main_notifications_description2"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.qmU}),onClick:()=>s.push(u.l.NOTIFICATIONS.HOME)}]:[],{title:e("settings_main_security_privacy"),subtitle:e("settings_main_security_privacy_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.isG}),onClick:()=>s.push(u.l.SECURITY.HOME)},{title:e("support_settings_ext_title"),subtitle:e("support_settings_ext_subtitle"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.P_s}),children:(0,n.jsx)(a.KsU,{icon:o.gJF}),onClick:()=>window.open("https://academy.solflare.com/guides/?get_help=true","_blank")},{title:e("settings_main_expanded_view"),subtitle:e("settings_main_expanded_view_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.TL5}),children:(0,n.jsx)(a.KsU,{icon:o.gJF}),onClick:()=>window.open("/wallet.html#/portfolio","_blank")}]})})]})},h=t("../../libs/shared/dist/features/currencies/index.js"),j=t("../../libs/shared/dist/i18n.js"),p=()=>{const{t:e,i18n:s}=(0,c.$)(),t=(0,r.k6)(),i=(0,h.Af)(),d=j.Mj[s.language]?.label||j.Mj.en.label,_=(0,l.uJ)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>t.push(l.ln.HOME)}),center:e("settings_main_general")}),(0,n.jsx)(a.JHu,{children:(0,n.jsx)(a.UVe,{data:[{title:e("settings_language"),subtitle:d,avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.Z_X}),onClick:()=>t.push(l.ln.GENERAL.LANGUAGE)},{title:e("settings_primary_currency"),subtitle:i.name,avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.egO}),onClick:()=>t.push(l.ln.GENERAL.CURRENCY)},{title:e("network_title"),subtitle:_.name,avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.UkD}),onClick:()=>t.push(l.ln.GENERAL.NETWORK)}]})})]})},g=()=>{const{t:e}=(0,c.$)(),{current:s,languages:t,changeLanguage:i}=(0,l.ix)(),d=(0,r.k6)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>d.push(u.l.GENERAL.HOME)}),center:e("settings_language")}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.UVe,{data:t.map((e=>({selected:e.id===s,title:e.label,avatar:(0,n.jsx)(a.Zay,{size:"l",src:e.flag}),onClick:()=>(e=>{i(e.id),d.push(u.l.GENERAL.HOME)})(e),key:e.id})))})})]})},k=t("../../../node_modules/console-browserify/index.js"),m=()=>{const{t:e}=(0,c.$)(),{currencies:s,current:t,changeCurrency:i}=(0,l.q)(),d=(0,r.k6)();return k.log({currencies:s}),(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>d.push(l.ln.GENERAL.HOME)}),center:e("settings_primary_currency_title")}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.UVe,{data:s.map((e=>({selected:e.ticker===t,title:e.name,avatar:(0,n.jsx)(a.Zay,{size:"l",src:h.ih[e.ticker]}),onClick:()=>(async e=>{await i(e.ticker),d.push(l.ln.GENERAL.HOME)})(e),key:e.ticker})))})})]})},C=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),{current:t,networks:i,changeNetwork:d}=(0,l.Q$)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(l.ln.GENERAL.HOME)}),center:e("network_change_title")}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.UVe,{data:Object.keys(i).map((e=>{const n=i[e];return{selected:e===t,title:n.name,onClick:()=>(async e=>{await d(e)&&s.push(l.ln.GENERAL.HOME)})(e),key:e}}))})})]})},E=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(u.l.GENERAL.HOME)}),center:e("address_book_title"),right:(0,n.jsx)(a.KsU,{icon:o.r8p,size:"l",onClick:()=>alert("xd")})}),(0,n.jsx)(a.JHu,{children:(0,n.jsxs)(a.a7q,{children:[(0,n.jsx)(a.nvn,{placeholder:"Search",children:(0,n.jsx)(a.JO$,{size:"m",icon:o.wn1,color:"textPrimary"})}),(0,n.jsx)(a.oKJ,{sectionTitle:(0,n.jsx)(a.NZf,{title:"Saved",size:"large"}),actions:(0,n.jsx)(a.UKY,{children:(0,n.jsx)(a.Y4l,{onClick:()=>alert("clicked"),title:"Add contact",icon:(0,n.jsx)(a.JO$,{size:"l",color:"textPrimary",icon:o.r8p})})}),children:(0,n.jsx)(a.JOM,{data:[],renderItem:e=>(0,n.jsx)(a.WiJ,{onClick:()=>alert("click"),renderAvatar:()=>(0,n.jsx)(a.qEK,{src:"null"}),wallet:e}),extractKey:e=>e.address})}),(0,n.jsx)(a.oKJ,{sectionTitle:(0,n.jsx)(a.NZf,{title:"Recent",size:"large"}),children:(0,n.jsx)(a.fiv,{data:[],renderAvatar:()=>(0,n.jsx)(a.qEK,{src:"null"}),renderRight:()=>(0,n.jsx)(a.zxk,{size:"s",variant:"tertiary",left:(0,n.jsx)(a.JO$,{size:"s",icon:o.r8p}),children:"Add"}),onWalletClick:()=>alert("xd")})})]})})]})},f=t("../../libs/solflare-shared/dist/features/notifications/index.js"),v=()=>{const e=(0,r.k6)(),{t:s}=(0,c.$)(),{webPushEnabled:t,webPushBlocked:i}=(0,l.up)(),{setNotificationsEnabled:d}=(0,f.c)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>e.push(l.ln.HOME)}),center:s("notifications_settings_title")}),(0,n.jsx)(a.JHu,{children:(0,n.jsx)(a.UVe,{data:[{title:s("settings_notification_push_notifications_title"),subtitle:s(i?"settings_notification_push_notifications_permission_required":"settings_notification_push_notifications_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.qmU}),children:(0,n.jsx)(a.rsf,{disabled:i,checked:t,onCheckedChange:()=>d(!t)}),disabled:i},...t?[{title:s("notifications_settings_activity_title_lowercase"),subtitle:s("notifications_settings_activity_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.On6}),onClick:()=>e.push(l.ln.NOTIFICATIONS.ACTIVITY)}]:[]]})})]})},S=t("../../libs/solflare-shared/dist/features/settings/notifications/notificationPreferences.js"),w=({preference:e,onClose:s})=>{const{t:t}=(0,c.$)(),[r,o]=(0,i.useState)("current"),{currentAccount:d,accounts:_}=(0,l.vL)(),{setPreferenceEnabled:u}=(0,l.up)(),x=!e.enabled;return(0,n.jsxs)(a.dys,{open:!0,onOpenChange:s,children:[(0,n.jsx)(a.iIr,{center:t(x?"platform_notifications_subscribe":"platform_notifications_unsubscribe")}),(0,n.jsxs)(a.scA,{children:[(0,n.jsxs)(a.nvN,{children:[t(x?"platform_notifications_get_notifications_for":"platform_notifications_stop_notifications_for"),":"]}),(0,n.jsx)(a.Oqt,{title:(0,S.Zj)(e.id,t)}),_&&_.length>1&&(0,n.jsxs)(a.SYO,{name:"applyFor",value:r,onValueChange:o,children:[(0,n.jsx)(a.EUY,{id:"current",value:"current",label:(0,n.jsx)(a.Daz,{htmlFor:"current",children:d?.name})}),(0,n.jsx)(a.EUY,{id:"all",value:"all",label:(0,n.jsx)(a.Daz,{htmlFor:"all",children:t("notifications_apply_all_wallets")})})]})]}),(0,n.jsx)(a.x90,{children:(0,n.jsxs)(a.hE2,{children:[(0,n.jsx)(a.zxk,{variant:"secondary",onClick:s,children:t("action_cancel")}),(0,n.jsx)(a.zxk,{variant:x?"primary":"destructive",onClick:async t=>{t.preventDefault(),await u(e.id,!e.enabled,"all"===r),s()},children:t("action_confirm")})]})})]})},A=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),{preferences:t}=(0,l.up)(),[d,_]=(0,i.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(l.ln.NOTIFICATIONS.HOME)}),center:e("notifications_settings_activity_title")}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.a7q,{children:(0,n.jsx)(a.UVe,{data:t.map((s=>({title:(0,S.Zj)(s.id,e),subtitle:(0,S.vv)(s.id,e),children:(0,n.jsx)(a.rsf,{checked:s.enabled,onCheckedChange:()=>_(s)}),key:s.id})))})})})]}),!!d&&(0,n.jsx)(w,{preference:d,onClose:()=>_(null)})]})},b=t("../../../node_modules/react-redux/es/index.js"),U=t("../../libs/solflare-shared/dist/store/actions/wallet.js"),O=t("../../libs/solflare-shared/dist/features/confirmDialog/index.js"),y=t("../../libs/solflare-shared/dist/store/actions/config.js"),I=({onCancel:e})=>{const{t:s,i18n:t}=(0,c.$)(),r=(0,b.I0)(),[l,o]=(0,i.useState)(!1);return(0,n.jsxs)(a.dys,{onOpenChange:e,open:!0,children:[(0,n.jsx)(a.iIr,{center:s("header_settings_logout")}),(0,n.jsxs)(a.PVo,{children:[(0,n.jsx)(a.bZj,{variant:"error",title:s("unlock_and_forgot_clear_warning_card_header"),message:s("settings_security_log_out_error")}),(0,n.jsx)(a.nvN,{children:s("settings_security_log_out_notice")}),(0,n.jsx)(a.$BJ,{id:"logout-check",checked:l,onCheckedChange:e=>o(!!e),children:(0,n.jsx)(a.keQ,{htmlFor:"logout-check",children:s("settings_security_log_out_checkbox_label")})})]}),(0,n.jsx)(a.x90,{children:(0,n.jsxs)(a.hE2,{children:[(0,n.jsx)(a.zxk,{variant:"secondary",onClick:e,children:s("action_cancel")}),(0,n.jsx)(a.zxk,{variant:"destructive",onClick:async e=>{e.preventDefault(),l&&(await r((0,y.kS)({language:t.language})),window.location.reload())},disabled:!l,children:s("action_logout")})]})})]})},P=()=>{const{t:e}=(0,c.$)(),s=(0,b.I0)(),t=(0,r.k6)(),_=(0,d.vL)(),{isAutoLockEnabled:u,currentLockTime:x,lookupAutoLock:h}=(0,l.oo)(),{isBalanceHidden:j,setHideBalancesEnabled:p}=(0,l.sC)(),{confirm:g}=(0,O.WK)(),[k,m]=(0,i.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>t.push(l.ln.HOME)}),center:e("settings_main_security_privacy")}),(0,n.jsx)(a.JHu,{noBottomPadding:!0,children:(0,n.jsx)(a.UVe,{data:[{title:e("settings_security_trusted_apps"),subtitle:e("settings_security_trusted_apps_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.M7i}),onClick:()=>t.push(l.ln.SECURITY.TRUSTED_APPS)},{title:e("settings_security_spending_approvals"),subtitle:e("settings_security_spending_approvals_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.nNP}),onClick:()=>t.push(l.ln.SECURITY.SPENDING_APPROVALS)},{title:e("settings_signed_logs"),subtitle:e("settings_signed_logs_details_label2"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.tRW}),onClick:()=>t.push(l.ln.SECURITY.SIGNED_MESSAGES_LOGS)},..._.locked?[{title:e("settings_security_autolock_header"),subtitle:u?h[x]||`${x} minutes`:e("settings_security_autolock_disabled"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.U$5}),onClick:()=>t.push(l.ln.SECURITY.AUTO_LOCK)}]:[],{title:e("settings_security_hide_balances"),subtitle:e("settings_security_hide_balances_subtitle"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.Aq}),children:(0,n.jsx)(a.rsf,{checked:j,onCheckedChange:e=>{p(e)}})},{title:_.locked?e("settings_security_change_password"):e("settings_security_set_password"),subtitle:_.locked?e("settings_security_change_password_description"):e("settings_security_set_password_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.DD4}),onClick:()=>t.push(l.ln.SECURITY.CHANGE_PASSWORD)},..._.locked?[{title:e("action_lock"),subtitle:e("settings_security_lock_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.bkV}),onClick:()=>{s((0,U.dR)(null)),window.close()}}]:[],{title:e("action_logout"),subtitle:e("settings_security_anonymous_log_out"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.ZhI,color:"error"}),onClick:async()=>{const s=await g({title:e("header_settings_logout"),message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.bZj,{title:e("unlock_and_forgot_caution_warning_card_header"),variant:"warning",message:e("settings_main_security_privacy_log_out_caution")}),(0,n.jsx)(a.nvN,{children:e("settings_main_security_privacy_log_out_caution_description")})]}),confirmButtonText:e("action_continue"),cancelButtonText:e("action_cancel")});m(s)}}]})})]}),k&&(0,n.jsx)(I,{onCancel:()=>m(!1)})]})},z=t("../../../node_modules/lodash/lodash.js"),T=t("../../libs/solflare-shared/dist/components/Icons/NoApp.js");const R=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),[t,d]=(0,i.useState)(""),{apps:_,isLoading:x,removeApp:h}=(0,l.Ql)(),j=(0,i.useMemo)((()=>{const e=t.trim().toLowerCase();let s=_;return e&&(s=_.filter((s=>s.origin?.toLowerCase()?.includes(e)||s.title?.toLowerCase()?.includes(e)))),(0,z.orderBy)(s.map((e=>{return{...e,originalOrigin:e.origin,origin:(s=e.origin,s.replace(/^https?:\/\//,"")),logoUrl:e.logoUrl||`https://www.google.com/s2/favicons?domain=${e.origin}&sz=128`,lastConnected:e.lastConnected||0};var s})),["lastConnected"],["desc"])}),[_,t]);return x||0!==_.length?(0,n.jsxs)(a.RZe,{children:[(0,n.jsx)(a.nvn,{placeholder:e("form_search_placeholder"),onChange:e=>d(e.currentTarget.value),children:(0,n.jsx)(a.JO$,{size:"m",icon:o.wn1,color:"textPrimary"})}),0===j.length?(0,n.jsx)(a.ubH,{children:e("settings_trusted_apps_search_empty_message")}):(0,n.jsx)(a.u3y,{data:j,onAppClick:e=>s.push(`${u.l.SECURITY.TRUSTED_APP_DETAILS.replace(":origin",encodeURIComponent(e.originalOrigin))}`),renderRight:s=>(0,n.jsxs)(a.h_2,{trigger:(0,n.jsx)(a.Z32,{}),children:[(0,n.jsx)(a.Xiv,{size:"s",icon:o.gJF,onClick:()=>window.open(s.originalOrigin,"_blank","noopener noreferrer"),children:e("action_open_app")}),(0,n.jsx)(a.Xiv,{size:"s",icon:o.I7k,onClick:()=>{h({...s,origin:s.originalOrigin})},variant:"destructive",children:e("action_remove_app")})]})})]}):(0,n.jsx)(a.ubH,{illustration:(0,n.jsx)(T.F,{}),children:e("settings_trusted_apps_empty_message")})};var N=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(u.l.SECURITY.HOME)}),center:e("settings_security_trusted_apps_title")}),(0,n.jsx)(a.JHu,{children:(0,n.jsx)(R,{})})]})},L=()=>{const{t:e}=(0,c.$)(),{currentLockTime:s,changeAutoLock:t,autoLockOptions:i}=(0,l.oo)(),d=(0,r.k6)();return(0,l.vL)().locked?(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>d.push(l.ln.SECURITY.HOME)}),center:e("settings_security_autolock_header")}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.a7q,{children:(0,n.jsx)(a.UVe,{data:i.map(((e,n)=>({selected:e.value===s,title:e.label,onClick:()=>(e=>{t(e),d.push(l.ln.SECURITY.HOME)})(e.value),key:n})))})})})]}):(0,n.jsx)(r.l_,{to:l.ln.SECURITY.HOME})},J=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),{values:t,setValue:d,errors:_,changePassword:u,disableSubmit:x,requireCurrentPassword:h}=(0,l.LN)(),[j,p]=(0,i.useState)({}),g=e=>{d(e.target.name,e.target.value)},k=e=>()=>{p((s=>({...s,[e]:!s[e]})))},m=e=>j[e]?o.Aq:o.Mdf;return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(l.ln.SECURITY.HOME)}),center:e(h?"password_change":"settings_security_set_password")}),(0,n.jsx)(a.JHu,{children:(0,n.jsxs)(a.a7q,{children:[h&&(0,n.jsx)(a.nvn,{autoFocus:!0,placeholder:e("form_current_password_lowercase"),type:j.currentPassword?"text":"password",name:"currentPassword",value:t.currentPassword,onChange:g,error:"currentPassword"in _,hint:_.currentPassword&&(0,n.jsx)(a.__J,{error:!0,children:_.currentPassword}),children:(0,n.jsx)(a.KsU,{icon:m("currentPassword"),onClick:k("currentPassword")})}),(0,n.jsx)(a.nvn,{placeholder:e("form_new_password_lowercase"),type:j.newPassword?"text":"password",name:"newPassword",value:t.newPassword,onChange:g,error:"newPassword"in _,hint:_.newPassword&&(0,n.jsx)(a.__J,{error:!0,children:_.newPassword}),children:(0,n.jsx)(a.KsU,{icon:m("newPassword"),onClick:k("newPassword")})}),(0,n.jsx)(a.nvn,{placeholder:e("form_repeat_password_lowercase"),type:j.repeatPassword?"text":"password",name:"repeatPassword",value:t.repeatPassword,onChange:g,error:"repeatPassword"in _,hint:_.repeatPassword&&(0,n.jsx)(a.__J,{error:!0,children:_.repeatPassword}),children:(0,n.jsx)(a.KsU,{icon:m("repeatPassword"),onClick:k("repeatPassword")})})]})}),(0,n.jsx)(a.p4T,{children:(0,n.jsx)(a.zxk,{disabled:x,onClick:async e=>{e.preventDefault(),await u()&&s.push(l.ln.SECURITY.HOME)},children:e("action_confirm")})})]})},$=()=>{const{t:e}=(0,c.$)(),{params:s}=(0,r.$B)(),t=(0,r.k6)(),i=decodeURIComponent(s.origin),{appsByOrigin:d,isLoading:_,setAppAutoConnect:u,setAppAutoApprove:x,canChangeAutoApprove:h,removeApp:j}=(0,l.Ql)(),p=h(i);if(_)return null;const g=d[i];return g?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>t.push(l.ln.SECURITY.TRUSTED_APPS)}),center:g.title||g.origin,right:(0,n.jsxs)(a.h_2,{modal:!1,trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:[(0,n.jsx)(a.Xiv,{size:"s",icon:o.gJF,onClick:()=>window.open(g.origin,"_blank","noopener noreferrer"),children:e("action_open_app")}),(0,n.jsx)(a.Xiv,{size:"s",icon:o.I7k,onClick:async()=>{await j(g)&&t.push(l.ln.SECURITY.TRUSTED_APPS)},variant:"destructive",children:e("action_remove_app")})]})}),(0,n.jsx)(a.JHu,{overflow:!0,children:(0,n.jsx)(a.a7q,{children:(0,n.jsx)(a.UVe,{data:[{title:e("settings_trusted_apps_options_autoconnect"),subtitle:e("settings_trusted_apps_options_autoconnect_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.nNP}),children:(0,n.jsx)(a.rsf,{checked:g.autoConnect,onCheckedChange:()=>u(i,!g.autoConnect)})},{disabled:!p,title:e("settings_trusted_apps_options_autoapprove"),subtitle:e(p?"settings_trusted_apps_options_autoapprove_description_burner":"settings_trusted_apps_options_autoapprove_description"),avatar:(0,n.jsx)(a.JO$,{size:"l",icon:o.BDt}),children:(0,n.jsx)(a.rsf,{disabled:!p,checked:g.autoApprove,onCheckedChange:()=>x(i,!g.autoApprove)})}]})})})]})}):(0,n.jsx)(r.l_,{to:l.ln.SECURITY.TRUSTED_APPS})},H=t("../../libs/shared/dist/utils/humanDate.js"),M=t("../../libs/solflare-shared/dist/components/Icons/NoLogs.js"),G=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),{isLoading:t,logs:i,removeAll:d,removeLog:_}=(0,l.nO)();return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(l.ln.SECURITY.HOME)}),center:e("settings_signed_messages_log"),right:t||i.length>0&&(0,n.jsx)(a.h_2,{modal:!1,trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:(0,n.jsx)(a.Xiv,{size:"s",icon:o.I7k,onClick:d,variant:"destructive",children:e("action_remove_all")})})}),(0,n.jsx)(a.JHu,{children:t?null:t||0!==i.length?(0,n.jsx)(a.p0r,{data:i.map((e=>({...e,date:new Date(1e3*e.timestamp)}))),extractKey:e=>e.date.toISOString(),renderDate:e=>(0,H.pz)(e.getTime()),renderItem:t=>(0,n.jsx)(a._3y,{title:t.title||t.origin,subtitle:t.title?t.origin:void 0,avatar:(0,n.jsx)(a.qEK,{src:`https://www.google.com/s2/favicons?domain=${t.origin}&sz=128`}),onClick:()=>s.push(l.ln.SECURITY.SIGNED_MESSAGES_LOG_DETAILS.replace(":slug",encodeURIComponent(t.id))),children:(0,n.jsx)(a.h_2,{trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:(0,n.jsx)(a.Xiv,{size:"s",icon:o.I7k,onClick:()=>{_(t)},variant:"destructive",children:e("action_remove_message")})})})}):(0,n.jsx)(a.ubH,{illustration:(0,n.jsx)(M.N,{}),children:e("settings_signed_logs_empty_extension")})})]})},K=t("../../libs/solflare-shared/dist/store/actions/common.js"),D=()=>{const{t:e}=(0,c.$)(),{params:{slug:s}}=(0,r.$B)(),t=(0,b.I0)(),d=(0,r.k6)(),{isLoading:_,logs:u,removeLog:x}=(0,l.nO)(),h=(0,i.useMemo)((()=>u.find((e=>e.id===s))),[u,s]);return _?null:h?(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>d.push(l.ln.SECURITY.SIGNED_MESSAGES_LOGS)}),center:h.title||h.origin,right:(0,n.jsx)(a.h_2,{modal:!1,trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:(0,n.jsx)(a.Xiv,{size:"s",icon:o.I7k,onClick:async()=>{await x(h)&&d.push(l.ln.SECURITY.SIGNED_MESSAGES_LOGS)},variant:"destructive",children:e("action_remove_message")})})}),(0,n.jsxs)(a.JHu,{overflow:!0,children:[(0,n.jsx)(a.stH,{title:e("table_date"),content:(0,H.ZR)(1e3*h.timestamp)}),(0,n.jsx)(a.stH,{title:e("table_website"),content:(0,n.jsxs)(n.Fragment,{children:[h.origin,(0,n.jsx)(a.KsU,{onClick:()=>window.open(`https://${h.origin}`,"_blank"),icon:o.gJF,size:"s"})]})}),(0,n.jsx)(a.S$B,{title:(0,n.jsx)(a.NZf,{title:e("transaction_message")}),children:(0,n.jsx)(a.EnS,{paragraph:h.message,actions:(0,n.jsx)(a.zxk,{size:"s",variant:"tertiary",left:(0,n.jsx)(a.JO$,{icon:o.kZ_}),onClick:()=>{t((0,K.Md)(h.message))},children:e("action_copy")})})})]})]}):(0,n.jsx)(r.l_,{to:l.ln.SECURITY.SIGNED_MESSAGES_LOGS})},Y=()=>{const{t:e}=(0,c.$)(),{items:s}=(0,l.o4)(),{selected:t,mode:i,setMode:r,setSelected:d}=(0,l.L7)(),_="select"===i||0!==t.size;return(0,n.jsxs)(a.h_2,{trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:[!_&&(0,n.jsx)(a.Xiv,{size:"s",onClick:()=>r("select"),children:e("action_select")}),t.size!==s.length&&(0,n.jsx)(a.Xiv,{size:"s",onClick:()=>{d(new Map(s.map((e=>[e,!0]))))},children:e("action_select_all")}),_&&t.size>0&&(0,n.jsx)(a.Xiv,{size:"s",onClick:()=>{d(new Map),r("none")},children:e("action_deselect_all")})]})},V=t("../../libs/solflare-shared/dist/utils/truncateMiddle.js"),Z=t("../../libs/solflare-shared/dist/utils/getResizedImageUrl.js"),W=t("../../libs/shared/dist/utils/displayPrice.js"),F=()=>{const{t:e}=(0,c.$)(),s=(0,r.k6)(),{items:t,itemsById:o,isLoading:d}=(0,l.o4)(),{mode:_,selected:u,setSelected:x}=(0,l.L7)(),h="select"===_||u.size>0,j=(0,i.useCallback)((e=>()=>{x((s=>(s.has(e)?s.delete(e):s.set(e,!0),new Map(s))))}),[x]),p=(0,i.useCallback)((e=>{if(!h)return()=>{s.push(l.ln.SECURITY.SPENDING_APPROVAL_DETAILS.replace(":address",e))}}),[s,h]);return d?(0,n.jsx)(a.JOM,{data:Array.from({length:5}).map(((e,s)=>s)),renderItem:()=>(0,n.jsx)(a.neK,{isLoading:!0}),extractKey:e=>e}):0===t.length?(0,n.jsx)(a.ubH,{illustration:(0,n.jsx)(T.F,{}),children:e("settings_security_spending_approvals_empty")}):(0,n.jsx)(a.JOM,{data:t,renderItem:e=>{const{type:s,tokenId:t,info:i,delegation:r}=o[e];return(0,n.jsx)(a.neK,{image:i.image?(0,Z.N)(i.image):void 0,title:i.name||(0,V.r)(t),address:(0,V.r)(r.address),amount:"token"===s?(0,W.ED)({amount:r.uiAmount,displayType:"amount",pricePerCoin:i.price||0}):void 0,imageVariant:"nft"===s?"square":"circle",onClick:p(e),selectable:h,checked:!!u.get(e),onCheckClick:j(e)})},extractKey:e=>e})},q=()=>{const e=(0,r.k6)(),{t:s}=(0,c.$)(),{isLoading:t,items:d,revokeMultiple:_}=(0,l.o4)(),{mode:u,selected:x,setMode:h,setSelected:j}=(0,l.L7)(),p=(0,i.useCallback)((async()=>{0!==x.size&&(await _(Array.from(x.keys())),j(new Map),h("none"))}),[x,_,j,h]),g=(0,i.useCallback)((()=>{h("none"),j(new Map)}),[h,j]),k="select"===u||x.size>0;return(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>e.push(l.ln.SECURITY.HOME)}),center:s("settings_security_spending_approvals_title"),right:(t||0!==d.length)&&(0,n.jsx)(Y,{})}),(0,n.jsx)(a.JHu,{children:(0,n.jsx)(F,{})}),k&&(0,n.jsx)(a.p4T,{variant:"fixed",children:(0,n.jsxs)(a.hE2,{children:[(0,n.jsx)(a.zxk,{variant:"secondary",onClick:g,children:s("action_cancel")}),(0,n.jsx)(a.zxk,{variant:"destructive",onClick:p,disabled:0===x.size,children:s("action_revoke")})]})})]})},B=t("../../libs/solflare-shared/dist/features/pfp/index.js"),X=()=>{const e=(0,b.I0)(),s=(0,r.k6)(),{address:t}=(0,r.UO)(),{isLoading:i,itemsById:d,revoke:_}=(0,l.o4)(),{t:u}=(0,c.$)();if(i)return null;const x=d[t];return x?(0,n.jsxs)(a.m04,{children:[(0,n.jsx)(a.V1P,{left:(0,n.jsx)(a.KsU,{icon:o.acZ,size:"l",onClick:()=>s.push(l.ln.SECURITY.SPENDING_APPROVALS)}),center:x.info.name||(0,V.r)(x.tokenId),right:(0,n.jsx)(a.h_2,{modal:!1,trigger:(0,n.jsx)(a.KsU,{icon:o.Uwo,size:"l"}),children:(0,n.jsx)(a.Xiv,{size:"s",onClick:()=>e((0,K.i5)({account:x.address})),children:u("action_view_in_explorer")})})}),(0,n.jsxs)(a.JHu,{children:[(0,n.jsx)(a.stH,{title:"nft"===x.type?u("table_collectible"):u("table_token"),content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.qEK,{variant:"nft"===x.type?"square":"circle",size:"s",src:x.info.image?(0,Z.N)(x.info.image):void 0}),x.info.name||(0,V.r)(x.tokenId)]})}),(0,n.jsx)(a.izJ,{}),(0,n.jsx)(a.stH,{title:u("table_amount"),content:(0,W.ED)({amount:x.delegation.uiAmount,displayType:"amount",pricePerCoin:x.info.price||0,suffix:"token"===x.type&&x.info.symbol?` ${x.info.symbol}`:""})}),(0,n.jsx)(a.izJ,{}),(0,n.jsx)(a.stH,{title:u("table_address"),content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.yq,{publicKey:x.delegation.address,size:"s"}),(0,V.r)(x.delegation.address),(0,n.jsx)(a.KsU,{size:"s",icon:o.kZ_,onClick:()=>e((0,K.Md)(x.delegation.address))})]})})]}),(0,n.jsx)(a.p4T,{children:(0,n.jsx)(a.zxk,{variant:"destructive",onClick:async e=>{e.preventDefault(),await _(t),s.replace(l.ln.SECURITY.SPENDING_APPROVALS)},children:u("action_revoke")})})]}):(0,n.jsx)(r.l_,{to:l.ln.SECURITY.SPENDING_APPROVALS})},Q=()=>(0,n.jsx)(l.K7,{children:(0,n.jsxs)(r.rs,{children:[(0,n.jsx)(r.AW,{exact:!0,path:l.ln.SECURITY.SPENDING_APPROVALS,children:(0,n.jsx)(l.XB,{children:(0,n.jsx)(q,{})})}),(0,n.jsx)(r.AW,{exact:!0,path:l.ln.SECURITY.SPENDING_APPROVAL_DETAILS,children:(0,n.jsx)(X,{})})]})}),ee=()=>(0,n.jsxs)(r.rs,{children:[(0,n.jsx)(r.AW,{path:l.ln.HOME,exact:!0,children:(0,n.jsx)(x,{})}),(0,n.jsx)(r.AW,{path:l.ln.GENERAL.HOME,exact:!0,children:(0,n.jsx)(p,{})}),(0,n.jsx)(r.AW,{path:l.ln.GENERAL.LANGUAGE,children:(0,n.jsx)(g,{})}),(0,n.jsx)(r.AW,{path:l.ln.GENERAL.CURRENCY,children:(0,n.jsx)(m,{})}),(0,n.jsx)(r.AW,{path:l.ln.GENERAL.NETWORK,children:(0,n.jsx)(C,{})}),(0,n.jsx)(r.AW,{path:l.ln.ADDRESS_BOOK.HOME,children:(0,n.jsx)(E,{})}),(0,n.jsx)(r.AW,{path:l.ln.NOTIFICATIONS.HOME,exact:!0,children:(0,n.jsx)(v,{})}),(0,n.jsx)(r.AW,{path:l.ln.NOTIFICATIONS.ACTIVITY,children:(0,n.jsx)(A,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.HOME,exact:!0,children:(0,n.jsx)(P,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.TRUSTED_APPS,children:(0,n.jsx)(l.rQ,{children:(0,n.jsxs)(r.rs,{children:[(0,n.jsx)(r.AW,{exact:!0,path:l.ln.SECURITY.TRUSTED_APPS,children:(0,n.jsx)(N,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.TRUSTED_APP_DETAILS,children:(0,n.jsx)($,{})})]})})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.SPENDING_APPROVALS,children:(0,n.jsx)(Q,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.SIGNED_MESSAGES_LOGS,children:(0,n.jsx)(l.Qh,{children:(0,n.jsxs)(r.rs,{children:[(0,n.jsx)(r.AW,{exact:!0,path:l.ln.SECURITY.SIGNED_MESSAGES_LOGS,children:(0,n.jsx)(G,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.SIGNED_MESSAGES_LOG_DETAILS,children:(0,n.jsx)(D,{})})]})})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.AUTO_LOCK,children:(0,n.jsx)(L,{})}),(0,n.jsx)(r.AW,{path:l.ln.SECURITY.CHANGE_PASSWORD,children:(0,n.jsx)(J,{})})]})}}]);