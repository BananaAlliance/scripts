"use strict";(self.webpackChunk_rise_wallet_solflare_extension=self.webpackChunk_rise_wallet_solflare_extension||[]).push([["vendors-libs_foundation-ui_node_modules_react-virtuoso_dist_index_mjs"],{"../../libs/foundation-ui/node_modules/react-virtuoso/dist/index.mjs":function(e,t,o){o.d(t,{OO:function(){return qt},Px:function(){return Yt}});var n=o("../../../node_modules/react/index.js"),r=o("../../../node_modules/react-dom/index.js"),i=o("../../../node_modules/console-browserify/index.js");function l(e,t){return o=>e(t(o))}function s(e,t){return t(e)}function c(e,t){return o=>e(t,o)}function a(e,t){return()=>e(t)}function u(e,t){return t(e),e}function d(...e){return e}function f(e){e()}function m(e){return()=>e}function h(){}function g(e,t){return e(1,t)}function p(e,t){e(0,t)}function v(e){e(2)}function x(e){return e(4)}function I(e,t){return g(e,c(t,0))}function T(e,t){const o=e(1,(e=>{o(),t(e)}));return o}function w(){const e=[];return(t,o)=>{switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(o),()=>{const t=e.indexOf(o);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((e=>{e(o)}));default:throw new Error(`unrecognized action ${t}`)}}}function C(e){let t=e;const o=w();return(e,n)=>{switch(e){case 1:n(t);break;case 0:t=n;break;case 4:return t}return o(e,n)}}function S(e){return u(w(),(t=>I(e,t)))}function E(e,t){return u(C(t),(t=>I(e,t)))}function H(e,...t){const o=function(...e){return t=>e.reduceRight(s,t)}(...t);return(t,n)=>{switch(t){case 1:return g(e,o(n));case 2:return void v(e)}}}function y(e,t){return e===t}function b(e=y){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function R(e){return t=>o=>{e(o)&&t(o)}}function z(e){return t=>l(t,e)}function B(e){return t=>()=>t(e)}function k(e,t){return o=>n=>o(t=e(t,n))}function P(e){return t=>o=>{e>0?e--:t(o)}}function L(e){let t,o;return n=>r=>{t=r,o||(o=setTimeout((()=>{o=void 0,n(t)}),e))}}function O(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout((()=>{n(t)}),e)}}function M(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);g(e,(e=>{const s=o;o|=l,t[i]=e,s!==r&&o===r&&n&&(n(),n=null)}))})),e=>i=>{const l=()=>e([i].concat(t));o===r?l():n=l}}function W(...e){return function(t,o){switch(t){case 1:return function(...e){return()=>{e.map(f)}}(...e.map((e=>g(e,o))));case 2:return;default:throw new Error(`unrecognized action ${t}`)}}}function F(e,t=y){return H(e,b(t))}function A(...e){const t=w(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);g(e,(e=>{o[i]=e,n|=l,n===r&&p(t,o)}))})),function(e,i){switch(e){case 1:return n===r&&i(o),g(t,i);case 2:return v(t);default:throw new Error(`unrecognized action ${e}`)}}}function _(e,t=[],{singleton:o}={singleton:!0}){return{id:V(),constructor:e,dependencies:t,singleton:o}}const V=()=>Symbol(),D="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function N(e,t,o){const r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),l=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),d=n.createContext({});function f(e,o){e.propsReady&&p(e.propsReady,!1);for(const n of r)p(e[t.required[n]],o[n]);for(const n of i)n in o&&p(e[t.optional[n]],o[n]);e.propsReady&&p(e.propsReady,!0)}function I(e){return s.reduce(((o,n)=>(o[n]=function(e){let t,o;const n=()=>t&&t();return function(r,i){switch(r){case 1:if(i){if(o===i)return;return n(),o=i,t=g(e,i),t}return n(),h;case 2:return n(),void(o=null);default:throw new Error(`unrecognized action ${r}`)}}}(e[t.events[n]]),o)),{})}const T=n.forwardRef(((c,h)=>{const{children:x,...T}=c,[w]=n.useState((()=>u(function(e){const t=new Map,o=({id:e,constructor:n,dependencies:r,singleton:i})=>{if(i&&t.has(e))return t.get(e);const l=n(r.map((e=>o(e))));return i&&t.set(e,l),l};return o(e)}(e),(e=>f(e,T))))),[C]=n.useState(a(I,w));return D((()=>{for(const e of s)e in T&&g(C[e],T[e]);return()=>{Object.values(C).map(v)}}),[T,C,w]),D((()=>{f(w,T)})),n.useImperativeHandle(h,m(function(e){return l.reduce(((o,n)=>(o[n]=o=>{p(e[t.methods[n]],o)},o)),{})}(w))),n.createElement(d.Provider,{value:w},o?n.createElement(o,function(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const e in t)n.hasOwnProperty(e)||(o[e]=t[e]);return o}([...r,...i,...s],T),x):x)}));return{Component:T,usePublisher:e=>n.useCallback(c(p,n.useContext(d)[e]),[e]),useEmitterValue:e=>{const t=n.useContext(d)[e],[o,r]=n.useState(a(x,t));return D((()=>g(t,(e=>{e!==o&&r(m(e))}))),[t,o]),o},useEmitter:(e,t)=>{const o=n.useContext(d)[e];D((()=>g(o,t)),[t,o])}}}const G="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;var U=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(U||{});const j={0:"debug",1:"log",2:"warn",3:"error"},K=_((()=>{const e=C(3);return{log:C(((t,o,n=1)=>{n>=(("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL??x(e))&&i[j[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)})),logLevel:e}}),[],{singleton:!0});function $(e,t=!0){const o=n.useRef(null);let r=e=>{};if("undefined"!=typeof ResizeObserver){const n=new ResizeObserver((t=>{const o=t[0].target;null!==o.offsetParent&&e(o)}));r=e=>{e&&t?(n.observe(e),o.current=e):(o.current&&n.unobserve(o.current),o.current=null)}}return{ref:o,callbackRef:r}}function q(e,t=!0){return $(e,t).callbackRef}function Y(e,t,o,n,r,i,l){return $((o=>{const s=function(e,t,o,n){const r=e.length;if(0===r)return null;const i=[];for(let o=0;o<r;o++){const r=e.item(o);if(!r||void 0===r.dataset.index)continue;const l=parseInt(r.dataset.index),s=parseFloat(r.dataset.knownSize),c=t(r,"offsetHeight");if(0===c&&n("Zero-sized element, this should not happen",{child:r},U.ERROR),c===s)continue;const a=i[i.length-1];0===i.length||a.size!==c||a.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:c}):i[i.length-1].endIndex++}return i}(o.children,t,0,r);let c=o.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const a="window"===c.lastElementChild.dataset.viewportType,u=l?l.scrollTop:a?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,d=l?l.scrollHeight:a?document.documentElement.scrollHeight:c.scrollHeight,f=l?l.offsetHeight:a?window.innerHeight:c.offsetHeight;n({scrollTop:Math.max(u,0),scrollHeight:d,viewportHeight:f}),null==i||i(function(e,t,o){return"normal"===t||(null==t?void 0:t.endsWith("px"))||o("row-gap was not resolved to pixel value correctly",t,U.WARN),"normal"===t?0:parseInt(t??"0",10)}(0,getComputedStyle(o).rowGap,r)),null!==s&&e(s)}),o)}function Z(e,t){return Math.round(e.getBoundingClientRect()[t])}function J(e,t){return Math.abs(e-t)<1.01}function Q(e,t,o,i=h,l){const s=n.useRef(null),c=n.useRef(null),a=n.useRef(null),u=n.useCallback((o=>{const n=o.target,i=n===window||n===document,l=i?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,s=i?document.documentElement.scrollHeight:n.scrollHeight,u=i?window.innerHeight:n.offsetHeight,d=()=>{e({scrollTop:Math.max(l,0),scrollHeight:s,viewportHeight:u})};o.suppressFlushSync?d():r.flushSync(d),null!==c.current&&(l===c.current||l<=0||l===s-u)&&(c.current=null,t(!0),a.current&&(clearTimeout(a.current),a.current=null))}),[e,t]);return n.useEffect((()=>{const e=l||s.current;return i(l||s.current),u({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",u,{passive:!0}),()=>{i(null),e.removeEventListener("scroll",u)}}),[s,u,o,i,l]),{scrollerRef:s,scrollByCallback:function(e){s.current.scrollBy(e)},scrollToCallback:function(o){const n=s.current;if(!n||"offsetHeight"in n&&0===n.offsetHeight)return;const r="smooth"===o.behavior;let i,l,u;n===window?(l=Math.max(Z(document.documentElement,"height"),document.documentElement.scrollHeight),i=window.innerHeight,u=document.documentElement.scrollTop):(l=n.scrollHeight,i=Z(n,"height"),u=n.scrollTop);const d=l-i;if(o.top=Math.ceil(Math.max(Math.min(d,o.top),0)),J(i,l)||o.top===u)return e({scrollTop:u,scrollHeight:l,viewportHeight:i}),void(r&&t(!0));r?(c.current=o.top,a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{a.current=null,c.current=null,t(!0)}),1e3)):c.current=null,n.scrollTo(o)}}}const X=_((()=>{const e=w(),t=w(),o=C(0),n=w(),r=C(0),i=w(),l=w(),s=C(0),c=C(0),a=C(0),u=C(0),d=w(),f=w(),m=C(!1);return I(H(e,z((({scrollTop:e})=>e))),t),I(H(e,z((({scrollHeight:e})=>e))),l),I(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:c,fixedFooterHeight:a,footerHeight:u,scrollHeight:l,smoothScrollTargetReached:n,scrollTo:d,scrollBy:f,statefulScrollTop:r,deviation:o,scrollingInProgress:m}}),[],{singleton:!0}),ee={lvl:0};function te(e,t,o,n=ee,r=ee){return{k:e,v:t,lvl:o,l:n,r:r}}function oe(e){return e===ee}function ne(){return ee}function re(e,t){if(oe(e))return ee;const{k:o,l:n,r:r}=e;if(t===o){if(oe(n))return r;if(oe(r))return n;{const[t,o]=ae(n);return he(de(e,{k:t,v:o,l:ue(n)}))}}return he(de(e,t<o?{l:re(n,t)}:{r:re(r,t)}))}function ie(e,t,o="k"){if(oe(e))return[-1/0,void 0];if(e[o]===t)return[e.k,e.v];if(e[o]<t){const n=ie(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return ie(e.l,t,o)}function le(e,t,o){return oe(e)?te(t,o,1):t===e.k?de(e,{k:t,v:o}):t<e.k?me(de(e,{l:le(e.l,t,o)})):me(de(e,{r:le(e.r,t,o)}))}function se(e,t,o){if(oe(e))return[];const{k:n,v:r,l:i,r:l}=e;let s=[];return n>t&&(s=s.concat(se(i,t,o))),n>=t&&n<=o&&s.push({k:n,v:r}),n<=o&&(s=s.concat(se(l,t,o))),s}function ce(e){return oe(e)?[]:[...ce(e.l),{k:e.k,v:e.v},...ce(e.r)]}function ae(e){return oe(e.r)?[e.k,e.v]:ae(e.r)}function ue(e){return oe(e.r)?e.l:he(de(e,{r:ue(e.r)}))}function de(e,t){return te(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function fe(e){return oe(e)||e.lvl>e.r.lvl}function me(e){return ve(xe(e))}function he(e){const{l:t,r:o,lvl:n}=e;if(o.lvl>=n-1&&t.lvl>=n-1)return e;if(n>o.lvl+1){if(fe(t))return xe(de(e,{lvl:n-1}));if(oe(t)||oe(t.r))throw new Error("Unexpected empty nodes");return de(t.r,{l:de(t,{r:t.r.l}),r:de(e,{l:t.r.r,lvl:n-1}),lvl:n})}if(fe(e))return ve(de(e,{lvl:n-1}));if(oe(o)||oe(o.l))throw new Error("Unexpected empty nodes");{const t=o.l,r=fe(t)?o.lvl-1:o.lvl;return de(t,{l:de(e,{r:t.l,lvl:n-1}),r:ve(de(o,{l:t.r,lvl:r})),lvl:t.lvl+1})}}function ge(e,t,o){if(oe(e))return[];return pe(se(e,ie(e,t)[0],o),(({k:e,v:t})=>({index:e,value:t})))}function pe(e,t){const o=e.length;if(0===o)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:o,value:s}=t(e[l]);i.push({start:n,end:o-1,value:r}),n=o,r=s}return i.push({start:n,end:1/0,value:r}),i}function ve(e){const{r:t,lvl:o}=e;return oe(t)||oe(t.r)||t.lvl!==o||t.r.lvl!==o?e:de(t,{l:de(e,{r:t.l}),lvl:o+1})}function xe(e){const{l:t}=e;return oe(t)||t.lvl!==e.lvl?e:de(t,{r:de(e,{l:t.r})})}function Ie(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=o(e[i],t);if(0===l)return i;if(-1===l){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Te(e,t,o){return e[Ie(e,t,o)]}const we=_((()=>({recalcInProgress:C(!1)})),[],{singleton:!0});function Ce(e){const{size:t,startIndex:o,endIndex:n}=e;return e=>e.start===o&&(e.end===n||e.end===1/0)&&e.value===t}function Se({index:e},t){return t===e?0:t<e?-1:1}function Ee({offset:e},t){return t===e?0:t<e?-1:1}function He(e){return{index:e.index,value:e}}function ye(e,t,o,n){let r=e,i=0,l=0,s=0,c=0;if(0!==t){c=Ie(r,t-1,Se),s=r[c].offset;const e=ie(o,t-1);i=e[0],l=e[1],r.length&&r[c].size===ie(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:e,value:c}of ge(o,t,1/0)){const t=e-i,o=t*l+s+t*n;r.push({offset:o,size:c,index:e}),i=e,s=o,l=c}return{offsetTree:r,lastIndex:i,lastOffset:s,lastSize:l}}function be(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,U.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&oe(i)&&2===t.length){const e=t[0].size,n=t[1].size;l=o.reduce(((t,o)=>le(le(t,o,e),o+1,n)),l)}else[l,s]=function(e,t){let o=oe(e)?0:1/0;for(const n of t){const{size:t,startIndex:r,endIndex:i}=n;if(o=Math.min(o,r),oe(e)){e=le(e,0,t);continue}const l=ge(e,r-1,i+1);if(l.some(Ce(n)))continue;let s=!1,c=!1;for(const{start:o,end:n,value:r}of l)s?(i>=o||t===r)&&(e=re(e,o)):(c=r!==t,s=!0),n>i&&i>=o&&r!==t&&(e=le(e,i+1,r));c&&(e=le(e,r,t))}return[e,o]}(l,t);if(l===i)return e;const{offsetTree:c,lastIndex:a,lastSize:u,lastOffset:d}=ye(e.offsetTree,s,l,r);return{sizeTree:l,offsetTree:c,lastIndex:a,lastOffset:d,lastSize:u,groupOffsetTree:o.reduce(((e,t)=>le(e,t,Re(t,c,r))),ne()),groupIndices:o}}function Re(e,t,o){if(0===t.length)return 0;const{offset:n,index:r,size:i}=Te(t,e,Se),l=e-r,s=i*l+(l-1)*o+n;return s>0?s+o:s}function ze(e,t,o){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=Be("LAST"===e.index?o:e.index,t);return n=Math.max(0,n,Math.min(o,n)),n}}function Be(e,t){if(!ke(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function ke(e){return!oe(e.groupOffsetTree)}const Pe={offsetHeight:"height",offsetWidth:"width"},Le=_((([{log:e},{recalcInProgress:t}])=>{const o=w(),n=w(),r=E(n,0),i=w(),l=w(),s=C(0),c=C([]),a=C(void 0),u=C(void 0),d=C(((e,t)=>Z(e,Pe[t]))),f=C(void 0),m=C(0),h={offsetTree:[],sizeTree:ne(),groupOffsetTree:ne(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=E(H(o,M(c,e,m),k(be,h),b()),h);I(H(c,R((e=>e.length>0)),M(v,m),z((([e,t,o])=>{const n=e.reduce(((e,n,r)=>le(e,n,Re(n,t.offsetTree,o)||r)),ne());return{...t,groupIndices:e,groupOffsetTree:n}}))),v),I(H(n,M(v),R((([e,{lastIndex:t}])=>e<t)),z((([e,{lastIndex:t,lastSize:o}])=>[{startIndex:e,endIndex:t,size:o}]))),o),I(a,u);const T=E(H(a,z((e=>void 0===e))),!0);I(H(u,R((e=>void 0!==e&&oe(x(v).sizeTree))),z((e=>[{startIndex:0,endIndex:0,size:e}]))),o);const y=S(H(o,M(v),k((({sizes:e},[t,o])=>({changed:o!==e,sizes:o})),{changed:!1,sizes:h}),z((e=>e.changed))));g(H(s,k(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),z((e=>e.diff))),(e=>{e>0?(p(t,!0),p(i,e)):e<0&&p(l,e)})),g(H(s,M(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},U.ERROR)}));const B=S(i);I(H(i,M(v),z((([e,t])=>{if(t.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return ce(t.sizeTree).reduce(((t,{k:o,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:o+e-1,size:t.prevSize}],prevIndex:o+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:t.lastSize}).ranges}))),o);const P=S(H(l,M(v,m),z((([e,{offsetTree:t},o])=>Re(-e,t,o)))));return I(H(l,M(v,m),z((([e,t,o])=>{if(t.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");const n=ce(t.sizeTree).reduce(((t,{k:o,v:n})=>le(t,Math.max(0,o+e),n)),ne());return{...t,sizeTree:n,...ye(t.offsetTree,0,n,o)}}))),v),{data:f,totalCount:n,sizeRanges:o,groupIndices:c,defaultItemSize:u,fixedItemSize:a,unshiftWith:i,shiftWith:l,shiftWithOffset:P,beforeUnshiftWith:B,firstItemIndex:s,gap:m,sizes:v,listRefresh:y,statefulTotalCount:r,trackItemSizes:T,itemSize:d}}),d(K,we),{singleton:!0}),Oe="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function Me(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Oe||(t.behavior="auto"),t.offset||(t.offset=0),t}const We=_((([{sizes:e,totalCount:t,listRefresh:o,gap:n},{scrollingInProgress:r,viewportHeight:i,scrollTo:l,smoothScrollTargetReached:s,headerHeight:c,footerHeight:a,fixedHeaderHeight:u,fixedFooterHeight:d},{log:f}])=>{const m=w(),h=C(0);let v=null,x=null,S=null;function E(){v&&(v(),v=null),S&&(S(),S=null),x&&(clearTimeout(x),x=null),p(r,!1)}return I(H(m,M(e,i,t,h,c,a,f),M(n,u,d),z((([[e,t,n,i,l,c,a,u],d,f,h])=>{const I=Me(e),{align:w,behavior:C,offset:y}=I,b=i-1,R=ze(I,t,b);let z=Re(R,t.offsetTree,d)+c;"end"===w?(z+=f+ie(t.sizeTree,R)[1]-n+h,R===b&&(z+=a)):"center"===w?z+=(f+ie(t.sizeTree,R)[1]-n+h)/2:z-=l,y&&(z+=y);const B=t=>{E(),t?(u("retrying to scroll to",{location:e},U.DEBUG),p(m,e)):u("list did not change, scroll successful",{},U.DEBUG)};if(E(),"smooth"===C){let e=!1;S=g(o,(t=>{e=e||t})),v=T(s,(()=>{B(e)}))}else v=T(H(o,(150,e=>{const t=setTimeout((()=>{e(!1)}),150);return o=>{o&&(e(!0),clearTimeout(t))}})),B);return x=setTimeout((()=>{E()}),1200),p(r,!0),u("scrolling from index to",{index:R,top:z,behavior:C},U.DEBUG),{top:z,behavior:C}}))),l),{scrollToIndex:m,topListHeight:h}}),d(Le,X,K),{singleton:!0}),Fe="up",Ae="down",_e={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Ve=_((([{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:n,footerHeight:r,scrollBy:i}])=>{const l=C(!1),s=C(!0),c=w(),a=w(),u=C(4),d=C(0),f=E(H(W(H(F(t),P(1),B(!0)),H(F(t),P(1),B(!1),O(100))),b()),!1),m=E(H(W(H(i,B(!0)),H(i,B(!1),O(200))),b()),!1);I(H(A(F(t),F(d)),z((([e,t])=>e<=t)),b()),s),I(H(s,L(50)),a);const h=S(H(A(e,F(o),F(n),F(r),F(u)),k(((e,[{scrollTop:t,scrollHeight:o},n,r,i,l])=>{const s={viewportHeight:n,scrollTop:t,scrollHeight:o};if(t+n-o>-l){let o,n;return t>e.state.scrollTop?(o="SCROLLED_DOWN",n=e.state.scrollTop-t):(o="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:s,atBottomBecause:o,scrollTopDelta:n}}let c;return c=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:c,state:s}}),_e),b(((e,t)=>e&&e.atBottom===t.atBottom)))),g=E(H(e,k(((e,{scrollTop:t,scrollHeight:o,viewportHeight:n})=>{if(J(e.scrollHeight,o))return{scrollTop:t,scrollHeight:o,jump:0,changed:!1};{const r=o-(t+n)<1;return e.scrollTop!==t&&r?{scrollHeight:o,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:o,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),R((e=>e.changed)),z((e=>e.jump))),0);I(H(h,z((e=>e.atBottom))),l),I(H(l,L(50)),c);const p=C(Ae);I(H(e,z((({scrollTop:e})=>e)),b(),k(((e,t)=>x(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Fe:Ae,prevScrollTop:t}),{direction:Ae,prevScrollTop:0}),z((e=>e.direction))),p),I(H(e,L(50),B("none")),p);const v=C(0);return I(H(f,R((e=>!e)),B(0)),v),I(H(t,L(100),M(f),R((([e,t])=>!!t)),k((([e,t],[o])=>[t,o]),[0,0]),z((([e,t])=>t-e))),v),{isScrolling:f,isAtTop:s,isAtBottom:l,atBottomState:h,atTopStateChange:a,atBottomStateChange:c,scrollDirection:p,atBottomThreshold:u,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:g}}),d(X)),De=_((([{log:e}])=>{const t=C(!1),o=S(H(t,R((e=>e)),b()));return g(t,(t=>{t&&x(e)("props updated",{},U.DEBUG)})),{propsReady:t,didMount:o}}),d(K),{singleton:!0}),Ne=_((([{sizes:e,listRefresh:t,defaultItemSize:o},{scrollTop:n},{scrollToIndex:r},{didMount:i}])=>{const l=C(!0),s=C(0);return I(H(i,M(s),R((([e,t])=>!!t)),B(!1)),l),g(H(A(t,i),M(l,e,o),R((([[,e],t,{sizeTree:o},n])=>e&&(!oe(o)||void 0!==n)&&!t)),M(s)),(([,e])=>{setTimeout((()=>{T(n,(()=>{p(l,!0)})),p(r,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s}}),d(Le,X,We,De),{singleton:!0});function Ge(e){return!!e&&("smooth"===e?"smooth":"auto")}const Ue=_((([{totalCount:e,listRefresh:t},{isAtBottom:o,atBottomState:n},{scrollToIndex:r},{scrolledToInitialItem:i},{propsReady:l,didMount:s},{log:c},{scrollingInProgress:a}])=>{const u=C(!1),d=w();let f=null;function m(e){p(r,{index:"LAST",align:"end",behavior:e})}function h(e){const t=T(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||f||(x(c)("scrolling to bottom due to increased size",{},U.DEBUG),m("auto"))}));setTimeout(t,100)}return g(H(A(H(F(e),P(1)),s),M(F(u),o,i,a),z((([[e,t],o,n,r,i])=>{let l=t&&r,s="auto";return l&&(s=((e,t)=>"function"==typeof e?Ge(e(t)):t&&Ge(e))(o,n||i),l=l&&!!s),{totalCount:e,shouldFollow:l,followOutputBehavior:s}})),R((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:o})=>{f&&(f(),f=null),f=T(t,(()=>{x(c)("following output to ",{totalCount:e},U.DEBUG),m(o),f=null}))})),g(H(A(F(u),e,l),R((([e,,t])=>e&&t)),k((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),R((({refreshed:e})=>e)),M(u,e)),(([,e])=>{h(!1!==e)})),g(d,(()=>{h(!1!==x(u))})),g(A(F(u),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")})),{followOutput:u,autoscrollToBottom:d}}),d(Le,Ve,We,Ne,De,K,X));function je(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const Ke=_((([{totalCount:e,groupIndices:t,sizes:o},{scrollTop:n,headerHeight:r}])=>{const i=w(),l=w(),s=S(H(i,z(je)));return I(H(s,z((e=>e.totalCount))),e),I(H(s,z((e=>e.groupIndices))),t),I(H(A(n,o,r),R((([e,t])=>ke(t))),z((([e,t,o])=>ie(t.groupOffsetTree,Math.max(e-o,0),"v")[0])),b(),z((e=>[e]))),l),{groupCounts:i,topItemsIndexes:l}}),d(Le,X));function $e(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function qe(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Ye="top",Ze="bottom",Je="none";function Qe(e,t,o){return"number"==typeof e?o===Fe&&t===Ye||o===Ae&&t===Ze?e:0:o===Fe?t===Ye?e.main:e.reverse:t===Ze?e.main:e.reverse}function Xe(e,t){return"number"==typeof e?e:e[t]||0}const et=_((([{scrollTop:e,viewportHeight:t,deviation:o,headerHeight:n,fixedHeaderHeight:r}])=>{const i=w(),l=C(0),s=C(0),c=C(0);return{listBoundary:i,overscan:c,topListHeight:l,increaseViewportBy:s,visibleRange:E(H(A(F(e),F(t),F(n),F(i,$e),F(c),F(l),F(r),F(o),F(s)),z((([e,t,o,[n,r],i,l,s,c,a])=>{const u=e-c,d=l+s,f=Math.max(o-u,0);let m=Je;const h=Xe(a,Ye),g=Xe(a,Ze);return n-=c,r+=o+s,(n+=o+s)>e+d-h&&(m=Fe),(r-=c)<e-f+t+g&&(m=Ae),m!==Je?[Math.max(u-o-Qe(i,Ye,m)-h,0),u-f-s+t+Qe(i,Ze,m)+g]:null})),R((e=>null!=e)),b($e)),[0,0])}}),d(X),{singleton:!0}),tt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function ot(e,t,o){if(0===e.length)return[];if(!ke(t))return e.map((e=>({...e,index:e.index+o,originalIndex:e.index})));const n=e[0].index,r=e[e.length-1].index,i=[],l=ge(t.groupOffsetTree,n,r);let s,c=0;for(const n of e){let e;(!s||s.end<n.index)&&(s=l.shift(),c=t.groupIndices.indexOf(s.start)),e=n.index===s.start?{type:"group",index:c}:{index:n.index-(c+1)+o,groupIndex:c},i.push({...e,size:n.size,offset:n.offset,originalIndex:n.index,data:n.data})}return i}function nt(e,t,o,n,r,i){const{lastSize:l,lastOffset:s,lastIndex:c}=r;let a=0,u=0;if(e.length>0){a=e[0].offset;const t=e[e.length-1];u=t.offset+t.size}const d=o-c,f=a,m=s+d*l+(d-1)*n-u;return{items:ot(e,r,i),topItems:ot(t,r,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:a,offsetBottom:m,top:f,bottom:u,totalCount:o,firstItemIndex:i}}const rt=_((([{sizes:e,totalCount:t,data:o,firstItemIndex:n,gap:r},i,{visibleRange:l,listBoundary:s,topListHeight:c},{scrolledToInitialItem:a,initialTopMostItemIndex:d},{topListHeight:f},m,{didMount:h},{recalcInProgress:g}])=>{const p=C([]),v=w();I(i.topItemsIndexes,p);const x=E(H(A(h,g,F(l,$e),F(t),F(e),F(d),a,F(p),F(n),F(r),o),R((([e,t])=>e&&!t)),z((([,,[e,t],o,n,r,i,l,s,c,a])=>{const d=n,{sizeTree:f,offsetTree:m}=d;if(0===o||0===e&&0===t)return{...tt,totalCount:o};if(oe(f))return nt(function(e,t,o){if(ke(t)){const n=Be(e,t);return[{index:ie(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:o&&o[0]}]}return[{index:e,size:0,offset:0,data:o&&o[0]}]}(function(e,t){const o=t-1;return"number"==typeof e?e:"LAST"===e.index?o:e.index}(r,o),d,a),[],o,c,d,s);const h=[];if(l.length>0){const e=l[0],t=l[l.length-1];let o=0;for(const n of ge(f,e,t)){const r=n.value,i=Math.max(n.start,e),l=Math.min(n.end,t);for(let e=i;e<=l;e++)h.push({index:e,size:r,offset:o,data:a&&a[e]}),o+=r}}if(!i)return nt([],h,o,c,d,s);const g=l.length>0?l[l.length-1]+1:0,p=function(e,t,o,n=0){return n>0&&(t=Math.max(t,Te(e,n,Se).offset)),pe(function(e,t,o,n){const r=Ie(e,t,n),i=Ie(e,o,n,r);return e.slice(r,i+1)}(e,t,o,Ee),He)}(m,e,t,g);if(0===p.length)return null;const v=o-1;return nt(u([],(o=>{for(const n of p){const r=n.value;let i=r.offset,l=n.start;const s=r.size;if(r.offset<e){l+=Math.floor((e-r.offset+c)/(s+c));const t=l-n.start;i+=t*s+t*c}l<g&&(i+=(g-l)*s,l=g);const u=Math.min(n.end,v);for(let e=l;e<=u&&!(i>=t);e++)o.push({index:e,size:s,offset:i,data:a&&a[e]}),i+=s+c}})),h,o,c,d,s)})),R((e=>null!==e)),b()),tt);return I(H(o,R((e=>void 0!==e)),z((e=>null==e?void 0:e.length))),t),I(H(x,z((e=>e.topListHeight))),f),I(f,c),I(H(x,z((e=>[e.top,e.bottom]))),s),I(H(x,z((e=>e.items))),v),{listState:x,topItemsIndexes:p,endReached:S(H(x,R((({items:e})=>e.length>0)),M(t,o),R((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),z((([,e,t])=>[e-1,t])),b($e),z((([e])=>e)))),startReached:S(H(x,L(200),R((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),z((({items:e})=>e[0].index)),b())),rangeChanged:S(H(x,R((({items:e})=>e.length>0)),z((({items:e})=>{let t=0,o=e.length-1;for(;"group"===e[t].type&&t<o;)t++;for(;"group"===e[o].type&&o>t;)o--;return{startIndex:e[t].index,endIndex:e[o].index}})),b(qe))),itemsRendered:v,...m}}),d(Le,Ke,et,Ne,We,Ve,De,we),{singleton:!0}),it=_((([{sizes:e,firstItemIndex:t,data:o,gap:n},{listState:r},{didMount:i}])=>{const l=C(0);return I(H(i,M(l),R((([,e])=>0!==e)),M(e,t,n,o),z((([[,e],t,o,n,r=[]])=>{let i=0;if(t.groupIndices.length>0)for(const o of t.groupIndices){if(o-i>=e)break;i++}const l=e+i;return nt(Array.from({length:l}).map(((e,t)=>({index:t,size:0,offset:0,data:r[t]}))),[],l,n,t,o)}))),r),{initialItemCount:l}}),d(Le,rt,De),{singleton:!0}),lt=_((([{scrollVelocity:e}])=>{const t=C(!1),o=w(),n=C(!1);return I(H(e,M(n,t,o),R((([e,t])=>!!t)),z((([e,t,o,n])=>{const{exit:r,enter:i}=t;if(o){if(r(e,n))return!1}else if(i(e,n))return!0;return o})),b()),t),g(H(A(t,e,o),M(n)),(([[e,t,o],n])=>e&&n&&n.change&&n.change(t,o))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:o}}),d(Ve),{singleton:!0}),st=_((([{topItemsIndexes:e}])=>{const t=C(0);return I(H(t,R((e=>e>0)),z((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),d(rt)),ct=_((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:o,fixedFooterHeight:n},{listState:r}])=>{const i=w(),l=E(H(A(e,n,t,o,r),z((([e,t,o,n,r])=>e+t+o+n+r.offsetBottom+r.bottom))),0);return I(F(l),i),{totalListHeight:l,totalListHeightChanged:i}}),d(X,rt),{singleton:!0});function at(e){let t,o=!1;return()=>(o||(o=!0,t=e()),t)}const ut=at((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),dt=_((([{scrollBy:e,scrollTop:t,deviation:o,scrollingInProgress:n},{isScrolling:r,isAtBottom:i,scrollDirection:l,lastJumpDueToItemResize:s},{listState:c},{beforeUnshiftWith:a,shiftWithOffset:u,sizes:d,gap:f},{log:m},{recalcInProgress:h}])=>{const v=S(H(c,M(s),k((([,e,t,o],[{items:n,totalCount:r,bottom:i,offsetBottom:l},s])=>{const c=i+l;let a=0;return t===r&&e.length>0&&n.length>0&&(0===n[0].originalIndex&&0===e[0].originalIndex||(a=c-o,0!==a&&(a+=s))),[a,n,r,c]}),[0,[],0,0]),R((([e])=>0!==e)),M(t,l,n,i,m),R((([,e,t,o])=>!o&&0!==e&&t===Fe)),z((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},U.DEBUG),e)))));function x(t){t>0?(p(e,{top:-t,behavior:"auto"}),p(o,0)):(p(o,0),p(e,{top:-t,behavior:"auto"}))}return g(H(v,M(o,r)),(([e,t,n])=>{n&&ut()?p(o,t-e):x(-e)})),g(H(A(E(r,!1),o,h),R((([e,t,o])=>!e&&!o&&0!==t)),z((([e,t])=>t)),L(1)),x),I(H(u,z((e=>({top:-e})))),e),g(H(a,M(d,f),z((([e,{lastSize:t},o])=>e*t+e*o))),(t=>{p(o,t),requestAnimationFrame((()=>{p(e,{top:t}),requestAnimationFrame((()=>{p(o,0),p(h,!1)}))}))})),{deviation:o}}),d(X,Ve,rt,Le,K,we)),ft=_((([{totalListHeight:e},{didMount:t},{scrollTo:o}])=>{const n=C(0);return g(H(t,M(n),R((([,e])=>0!==e)),z((([,e])=>({top:e})))),(t=>{T(H(e,R((e=>0!==e))),(()=>{setTimeout((()=>{p(o,t)}))}))})),{initialScrollTop:n}}),d(ct,De,X),{singleton:!0}),mt=_((([{viewportHeight:e},{totalListHeight:t}])=>{const o=C(!1);return{alignToBottom:o,paddingTopAddition:E(H(A(o,e,t),R((([e])=>e)),z((([,e,t])=>Math.max(0,e-t))),b()),0)}}),d(X,ct),{singleton:!0}),ht=_((([{scrollTo:e,scrollContainerState:t}])=>{const o=w(),n=w(),r=w(),i=C(!1),l=C(void 0);return I(H(A(o,n),z((([{viewportHeight:e,scrollTop:t,scrollHeight:o},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:o,viewportHeight:e})))),t),I(H(e,M(n),z((([e,{offsetTop:t}])=>({...e,top:e.top+t})))),r),{useWindowScroll:i,customScrollParent:l,windowScrollContainerState:o,windowViewportRect:n,windowScrollTo:r}}),d(X)),gt=_((([{sizes:e,totalCount:t,gap:o},{scrollTop:n,viewportHeight:r,headerHeight:i,fixedHeaderHeight:l,fixedFooterHeight:s,scrollingInProgress:c},{scrollToIndex:a}])=>{const u=w();return I(H(u,M(e,r,t,i,l,s,n),M(o),z((([[e,t,o,n,r,i,l,s],a])=>{const{done:u,behavior:d,align:f,...m}=e;let h=null;const g=ze(e,t,n-1),p=Re(g,t.offsetTree,a)+r+i;return p<s+i?h={...m,behavior:d,align:f??"start"}:p+ie(t.sizeTree,g)[1]>s+o-l&&(h={...m,behavior:d,align:f??"end"}),h?u&&T(H(c,P(1),R((e=>!1===e))),u):u&&u(),h})),R((e=>null!==e))),a),{scrollIntoView:u}}),d(Le,X,We,rt,K),{singleton:!0}),pt=_((([e,t,o,n,r,i,l,s,c])=>({...e,...t,...o,...n,...r,...i,...l,...s,...c})),d(et,it,De,lt,ct,ft,mt,ht,gt)),vt=_((([{totalCount:e,sizeRanges:t,fixedItemSize:o,defaultItemSize:n,trackItemSizes:r,itemSize:i,data:l,firstItemIndex:s,groupIndices:c,statefulTotalCount:a,gap:u},{initialTopMostItemIndex:d,scrolledToInitialItem:f},m,h,{listState:g,topItemsIndexes:p,...v},{scrollToIndex:x},T,{topItemCount:w},{groupCounts:C},S,E])=>(I(v.rangeChanged,S.scrollSeekRangeChanged),I(H(S.windowViewportRect,z((e=>e.visibleHeight))),m.viewportHeight),{totalCount:e,data:l,firstItemIndex:s,sizeRanges:t,initialTopMostItemIndex:d,scrolledToInitialItem:f,topItemsIndexes:p,topItemCount:w,groupCounts:C,fixedItemHeight:o,defaultItemHeight:n,gap:u,...h,statefulTotalCount:a,listState:g,scrollToIndex:x,trackItemSizes:r,itemSize:i,groupIndices:c,...v,...S,...m,...E})),d(Le,Ne,X,Ue,rt,We,dt,st,Ke,pt,K)),xt="-webkit-sticky",It="sticky",Tt=at((()=>{if("undefined"==typeof document)return It;const e=document.createElement("div");return e.style.position=xt,e.style.position===xt?xt:It}));function wt(e,t){const o=n.useRef(null),r=n.useCallback((n=>{if(null===n||!n.offsetParent)return;const r=n.getBoundingClientRect(),i=r.width;let l,s;if(t){const e=t.getBoundingClientRect(),o=r.top-e.top;l=e.height-Math.max(0,o),s=o+t.scrollTop}else l=window.innerHeight-Math.max(0,r.top),s=r.top+window.pageYOffset;o.current={offsetTop:s,visibleHeight:l,visibleWidth:i},e(o.current)}),[e,t]),{callbackRef:i,ref:l}=$(r),s=n.useCallback((()=>{r(l.current)}),[r,l]);return n.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver(s);return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),i}const Ct=n.createContext(void 0),St=n.createContext(void 0);function Et(e){return e}const Ht=_((([e,t])=>({...e,...t})),d(vt,_((()=>{const e=C((e=>`Item ${e}`)),t=C(null),o=C((e=>`Group ${e}`)),n=C({}),r=C(Et),i=C("div"),l=C(h),s=(e,t=null)=>E(H(n,z((t=>t[e])),b()),t);return{context:t,itemContent:e,groupContent:o,components:n,computeItemKey:r,headerFooterTag:i,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}})))),yt=({height:e})=>n.createElement("div",{style:{height:e}}),bt={position:Tt(),zIndex:1,overflowAnchor:"none"},Rt={overflowAnchor:"none"},zt=n.memo((function({showTopList:e=!1}){const t=Ut("listState"),o=Gt("sizeRanges"),r=Ut("useWindowScroll"),i=Ut("customScrollParent"),l=Gt("windowScrollContainerState"),s=Gt("scrollContainerState"),c=i||r?l:s,a=Ut("itemContent"),u=Ut("context"),d=Ut("groupContent"),f=Ut("trackItemSizes"),m=Ut("itemSize"),g=Ut("log"),p=Gt("gap"),{callbackRef:v}=Y(o,m,f,e?h:c,g,p,i),[x,I]=n.useState(0);jt("deviation",(e=>{x!==e&&I(e)}));const T=Ut("EmptyPlaceholder"),w=Ut("ScrollSeekPlaceholder")||yt,C=Ut("ListComponent"),S=Ut("ItemComponent"),E=Ut("GroupComponent"),H=Ut("computeItemKey"),y=Ut("isSeeking"),b=Ut("groupIndices").length>0,R=Ut("paddingTopAddition"),z=e?{}:{boxSizing:"border-box",paddingTop:t.offsetTop+R,paddingBottom:t.offsetBottom,marginTop:x};return!e&&0===t.totalCount&&T?n.createElement(T,Lt(T,u)):n.createElement(C,{...Lt(C,u),ref:v,style:z,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?t.topItems:t.items).map((e=>{const o=e.originalIndex,r=H(o+t.firstItemIndex,e.data,u);return y?n.createElement(w,{...Lt(w,u),key:r,index:e.index,height:e.size,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?n.createElement(E,{...Lt(E,u),key:r,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,style:bt},d(e.index)):n.createElement(S,{...Lt(S,u),key:r,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,item:e.data,style:Rt},b?a(e.index,e.groupIndex,e.data,u):a(e.index,e.data,u))})))})),Bt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},kt={width:"100%",height:"100%",position:"absolute",top:0},Pt={width:"100%",position:Tt(),top:0,zIndex:1};function Lt(e,t){if("string"!=typeof e)return{context:t}}const Ot=n.memo((function(){const e=Ut("HeaderComponent"),t=Gt("headerHeight"),o=Ut("headerFooterTag"),r=q((e=>t(Z(e,"height")))),i=Ut("context");return e?n.createElement(o,{ref:r},n.createElement(e,Lt(e,i))):null})),Mt=n.memo((function(){const e=Ut("FooterComponent"),t=Gt("footerHeight"),o=Ut("headerFooterTag"),r=q((e=>t(Z(e,"height")))),i=Ut("context");return e?n.createElement(o,{ref:r},n.createElement(e,Lt(e,i))):null}));function Wt({usePublisher:e,useEmitter:t,useEmitterValue:o}){return n.memo((function({style:r,children:i,...l}){const s=e("scrollContainerState"),c=o("ScrollerComponent"),a=e("smoothScrollTargetReached"),u=o("scrollerRef"),d=o("context"),{scrollerRef:f,scrollByCallback:m,scrollToCallback:h}=Q(s,a,c,u);return t("scrollTo",h),t("scrollBy",m),n.createElement(c,{ref:f,style:{...Bt,...r},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...Lt(c,d)},i)}))}function Ft({usePublisher:e,useEmitter:t,useEmitterValue:o}){return n.memo((function({style:r,children:i,...l}){const s=e("windowScrollContainerState"),c=o("ScrollerComponent"),a=e("smoothScrollTargetReached"),u=o("totalListHeight"),d=o("deviation"),f=o("customScrollParent"),m=o("context"),{scrollerRef:g,scrollByCallback:p,scrollToCallback:v}=Q(s,a,c,h,f);return G((()=>(g.current=f||window,()=>{g.current=null})),[g,f]),t("windowScrollTo",v),t("scrollBy",p),n.createElement(c,{style:{position:"relative",...r,...0!==u?{height:u+d}:{}},"data-virtuoso-scroller":!0,...l,...Lt(c,m)},i)}))}const At=({children:e})=>{const t=n.useContext(Ct),o=Gt("viewportHeight"),r=Gt("fixedItemHeight"),i=q(l(o,(e=>Z(e,"height"))));return n.useEffect((()=>{t&&(o(t.viewportHeight),r(t.itemHeight))}),[t,o,r]),n.createElement("div",{style:kt,ref:i,"data-viewport-type":"element"},e)},_t=({children:e})=>{const t=n.useContext(Ct),o=Gt("windowViewportRect"),r=Gt("fixedItemHeight"),i=Ut("customScrollParent"),l=wt(o,i);return n.useEffect((()=>{t&&(r(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,o,r]),n.createElement("div",{ref:l,style:kt,"data-viewport-type":"window"},e)},Vt=({children:e})=>{const t=Ut("TopItemListComponent"),o=Ut("headerHeight"),r={...Pt,marginTop:`${o}px`},i=Ut("context");return n.createElement(t||"div",{style:r,context:i},e)},Dt=n.memo((function(e){const t=Ut("useWindowScroll"),o=Ut("topItemsIndexes").length>0,r=Ut("customScrollParent"),i=r||t?$t:Kt,l=r||t?_t:At;return n.createElement(i,{...e},o&&n.createElement(Vt,null,n.createElement(zt,{showTopList:!0})),n.createElement(l,null,n.createElement(Ot,null),n.createElement(zt,null),n.createElement(Mt,null)))})),{Component:Nt,usePublisher:Gt,useEmitterValue:Ut,useEmitter:jt}=N(Ht,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Dt),Kt=Wt({usePublisher:Gt,useEmitterValue:Ut,useEmitter:jt}),$t=Ft({usePublisher:Gt,useEmitterValue:Ut,useEmitter:jt}),qt=Nt,Yt=Nt,Zt={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Jt={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Qt,ceil:Xt,floor:eo,min:to,max:oo}=Math;function no(e,t,o){return Array.from({length:t-e+1}).map(((t,n)=>({index:n+e,data:null==o?void 0:o[n+e]})))}function ro(e,t){return e&&e.column===t.column&&e.row===t.row}const io=_((([{overscan:e,visibleRange:t,listBoundary:o},{scrollTop:n,viewportHeight:r,scrollBy:i,scrollTo:l,smoothScrollTargetReached:s,scrollContainerState:c,footerHeight:a,headerHeight:u},d,f,{propsReady:m,didMount:h},{windowViewportRect:g,windowScrollTo:p,useWindowScroll:v,customScrollParent:x,windowScrollContainerState:T},y])=>{const k=C(0),P=C(0),L=C(Zt),O=C({height:0,width:0}),W=C({height:0,width:0}),_=w(),V=w(),D=C(0),N=C(void 0),G=C({row:0,column:0});I(H(A(h,P,N),R((([,e])=>0!==e)),z((([,e,t])=>({items:no(0,e-1,t),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0})))),L),I(H(A(F(k),t,F(G,ro),F(W,((e,t)=>e&&e.width===t.width&&e.height===t.height)),N),M(O),z((([[e,[t,o],n,r,i],l])=>{const{row:s,column:c}=n,{height:a,width:u}=r,{width:d}=l;if(0===e||0===d)return Zt;if(0===u)return function(e){return{...Jt,items:e}}(no(0,0,i));const f=co(d,u,c);let m=f*eo((t+s)/(a+s)),h=f*Xt((o+s)/(a+s))-1;h=to(e-1,oo(h,f-1)),m=to(h,oo(0,m));const g=no(m,h,i),{top:p,bottom:v}=lo(l,n,r,g),x=Xt(e/f);return{items:g,offsetTop:p,offsetBottom:x*a+(x-1)*s-v,top:p,bottom:v,itemHeight:a,itemWidth:u}}))),L),I(H(N,R((e=>void 0!==e)),z((e=>e.length))),k),I(H(O,z((({height:e})=>e))),r),I(H(A(O,W,L,G),z((([e,t,{items:o},n])=>{const{top:r,bottom:i}=lo(e,n,t,o);return[r,i]})),b($e)),o);const U=S(H(F(L),R((({items:e})=>e.length>0)),M(k),R((([{items:e},t])=>e[e.length-1].index===t-1)),z((([,e])=>e-1)),b())),j=S(H(F(L),R((({items:e})=>e.length>0&&0===e[0].index)),B(0),b())),K=S(H(F(L),R((({items:e})=>e.length>0)),z((({items:e})=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),b(qe)));I(K,f.scrollSeekRangeChanged),I(H(_,M(O,W,k,G),z((([e,t,o,n,r])=>{const i=Me(e),{align:l,behavior:s,offset:c}=i;let a=i.index;"LAST"===a&&(a=n-1),a=oo(0,a,to(n-1,a));let u=so(t,r,o,a);return"end"===l?u=Qt(u-t.height+o.height):"center"===l&&(u=Qt(u-t.height/2+o.height/2)),c&&(u+=c),{top:u,behavior:s}}))),l);const $=E(H(L,z((e=>e.offsetBottom+e.bottom))),0);return I(H(g,z((e=>({width:e.visibleWidth,height:e.visibleHeight})))),O),{data:N,totalCount:k,viewportDimensions:O,itemDimensions:W,scrollTop:n,scrollHeight:V,overscan:e,scrollBy:i,scrollTo:l,scrollToIndex:_,smoothScrollTargetReached:s,windowViewportRect:g,windowScrollTo:p,useWindowScroll:v,customScrollParent:x,windowScrollContainerState:T,deviation:D,scrollContainerState:c,footerHeight:a,headerHeight:u,initialItemCount:P,gap:G,...f,gridState:L,totalListHeight:$,...d,startReached:j,endReached:U,rangeChanged:K,propsReady:m,...y}}),d(et,X,Ve,lt,De,ht,K));function lo(e,t,o,n){const{height:r}=o;return void 0===r||0===n.length?{top:0,bottom:0}:{top:so(e,t,o,n[0].index),bottom:so(e,t,o,n[n.length-1].index)+r}}function so(e,t,o,n){const r=co(e.width,o.width,t.column),i=eo(n/r),l=i*o.height+oo(0,i-1)*t.row;return l>0?l+t.row:l}function co(e,t,o){return oo(1,eo((e+o)/(t+o)))}const ao=_((([e,t])=>({...e,...t})),d(io,_((()=>{const e=C((e=>`Item ${e}`)),t=C({}),o=C(null),n=C("virtuoso-grid-item"),r=C("virtuoso-grid-list"),i=C(Et),l=C("div"),s=C(h),c=(e,o=null)=>E(H(t,z((t=>t[e])),b()),o);return{context:o,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:r,headerFooterTag:l,scrollerRef:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}})))),uo=n.memo((function(){const e=Io("gridState"),t=Io("listClassName"),o=Io("itemClassName"),r=Io("itemContent"),i=Io("computeItemKey"),l=Io("isSeeking"),s=xo("scrollHeight"),c=Io("ItemComponent"),a=Io("ListComponent"),u=Io("ScrollSeekPlaceholder"),d=Io("context"),f=xo("itemDimensions"),m=xo("gap"),h=Io("log"),g=q((e=>{const t=e.parentElement.parentElement.scrollHeight;s(t);const o=e.firstChild;o&&f(o.getBoundingClientRect()),m({row:So("row-gap",getComputedStyle(e).rowGap,h),column:So("column-gap",getComputedStyle(e).columnGap,h)})}));return n.createElement(a,{ref:g,className:t,...Lt(a,d),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map((t=>{const s=i(t.index,t.data,d);return l?n.createElement(u,{key:s,...Lt(u,d),index:t.index,height:e.itemHeight,width:e.itemWidth}):n.createElement(c,{...Lt(c,d),className:o,"data-index":t.index,key:s},r(t.index,t.data,d))})))})),fo=n.memo((function(){const e=Io("HeaderComponent"),t=xo("headerHeight"),o=Io("headerFooterTag"),r=q((e=>t(Z(e,"height")))),i=Io("context");return e?n.createElement(o,{ref:r},n.createElement(e,Lt(e,i))):null})),mo=n.memo((function(){const e=Io("FooterComponent"),t=xo("footerHeight"),o=Io("headerFooterTag"),r=q((e=>t(Z(e,"height")))),i=Io("context");return e?n.createElement(o,{ref:r},n.createElement(e,Lt(e,i))):null})),ho=({children:e})=>{const t=n.useContext(St),o=xo("itemDimensions"),r=xo("viewportDimensions"),i=q((e=>{r(e.getBoundingClientRect())}));return n.useEffect((()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))}),[t,r,o]),n.createElement("div",{style:kt,ref:i},e)},go=({children:e})=>{const t=n.useContext(St),o=xo("windowViewportRect"),r=xo("itemDimensions"),i=Io("customScrollParent"),l=wt(o,i);return n.useEffect((()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,o,r]),n.createElement("div",{ref:l,style:kt},e)},po=n.memo((function({...e}){const t=Io("useWindowScroll"),o=Io("customScrollParent"),r=o||t?Co:wo,i=o||t?go:ho;return n.createElement(r,{...e},n.createElement(i,null,n.createElement(fo,null),n.createElement(uo,null),n.createElement(mo,null)))})),{Component:vo,usePublisher:xo,useEmitterValue:Io,useEmitter:To}=N(ao,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},po),wo=Wt({usePublisher:xo,useEmitterValue:Io,useEmitter:To}),Co=Ft({usePublisher:xo,useEmitterValue:Io,useEmitter:To});function So(e,t,o){return"normal"===t||(null==t?void 0:t.endsWith("px"))||o(`${e} was not resolved to pixel value correctly`,t,U.WARN),"normal"===t?0:parseInt(t??"0",10)}const Eo=_((([e,t])=>({...e,...t})),d(vt,_((()=>{const e=C((e=>n.createElement("td",null,"Item $",e))),t=C(null),o=C(null),r=C(null),i=C({}),l=C(Et),s=C(h),c=(e,t=null)=>E(H(i,z((t=>t[e])),b()),t);return{context:t,itemContent:e,fixedHeaderContent:o,fixedFooterContent:r,components:i,computeItemKey:l,scrollerRef:s,TableComponent:c("Table","table"),TableHeadComponent:c("TableHead","thead"),TableFooterComponent:c("TableFoot","tfoot"),TableBodyComponent:c("TableBody","tbody"),TableRowComponent:c("TableRow","tr"),ScrollerComponent:c("Scroller","div"),EmptyPlaceholder:c("EmptyPlaceholder"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),FillerRow:c("FillerRow")}})))),Ho=({height:e})=>n.createElement("tr",null,n.createElement("td",{style:{height:e}})),yo=({height:e})=>n.createElement("tr",null,n.createElement("td",{style:{height:e,padding:0,border:0}})),bo=n.memo((function(){const e=Lo("listState"),t=Po("sizeRanges"),o=Lo("useWindowScroll"),r=Lo("customScrollParent"),i=Po("windowScrollContainerState"),l=Po("scrollContainerState"),s=r||o?i:l,c=Lo("itemContent"),a=Lo("trackItemSizes"),u=Lo("itemSize"),d=Lo("log"),{callbackRef:f,ref:m}=Y(t,u,a,s,d,void 0,r),[h,g]=n.useState(0);Oo("deviation",(e=>{h!==e&&(m.current.style.marginTop=`${e}px`,g(e))}));const p=Lo("EmptyPlaceholder"),v=Lo("ScrollSeekPlaceholder")||Ho,x=Lo("FillerRow")||yo,I=Lo("TableBodyComponent"),T=Lo("TableRowComponent"),w=Lo("computeItemKey"),C=Lo("isSeeking"),S=Lo("paddingTopAddition"),E=Lo("firstItemIndex"),H=Lo("statefulTotalCount"),y=Lo("context");if(0===H&&p)return n.createElement(p,Lt(p,y));const b=e.offsetTop+S+h,R=e.offsetBottom,z=b>0?n.createElement(x,{height:b,key:"padding-top",context:y}):null,B=R>0?n.createElement(x,{height:R,key:"padding-bottom",context:y}):null,k=e.items.map((e=>{const t=e.originalIndex,o=w(t+E,e.data,y);return C?n.createElement(v,{...Lt(v,y),key:o,index:e.index,height:e.size,type:e.type||"item"}):n.createElement(T,{...Lt(T,y),key:o,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,item:e.data,style:{overflowAnchor:"none"}},c(e.index,e.data,y))}));return n.createElement(I,{ref:f,"data-test-id":"virtuoso-item-list",...Lt(I,y)},[z,...k,B])})),Ro=({children:e})=>{const t=n.useContext(Ct),o=Po("viewportHeight"),r=Po("fixedItemHeight"),i=q(l(o,(e=>Z(e,"height"))));return n.useEffect((()=>{t&&(o(t.viewportHeight),r(t.itemHeight))}),[t,o,r]),n.createElement("div",{style:kt,ref:i,"data-viewport-type":"element"},e)},zo=({children:e})=>{const t=n.useContext(Ct),o=Po("windowViewportRect"),r=Po("fixedItemHeight"),i=Lo("customScrollParent"),l=wt(o,i);return n.useEffect((()=>{t&&(r(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,o,r]),n.createElement("div",{ref:l,style:kt,"data-viewport-type":"window"},e)},Bo=n.memo((function(e){const t=Lo("useWindowScroll"),o=Lo("customScrollParent"),r=Po("fixedHeaderHeight"),i=Po("fixedFooterHeight"),s=Lo("fixedHeaderContent"),c=Lo("fixedFooterContent"),a=Lo("context"),u=q(l(r,(e=>Z(e,"height")))),d=q(l(i,(e=>Z(e,"height")))),f=o||t?Wo:Mo,m=o||t?zo:Ro,h=Lo("TableComponent"),g=Lo("TableHeadComponent"),p=Lo("TableFooterComponent"),v=s?n.createElement(g,{key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:u,...Lt(g,a)},s()):null,x=c?n.createElement(p,{key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:d,...Lt(p,a)},c()):null;return n.createElement(f,{...e},n.createElement(m,null,n.createElement(h,{style:{borderSpacing:0},...Lt(h,a)},[v,n.createElement(bo,{key:"TableBody"}),x])))})),{Component:ko,usePublisher:Po,useEmitterValue:Lo,useEmitter:Oo}=N(Eo,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Bo),Mo=Wt({usePublisher:Po,useEmitterValue:Lo,useEmitter:Oo}),Wo=Ft({usePublisher:Po,useEmitterValue:Lo,useEmitter:Oo})}}]);