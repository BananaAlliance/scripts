/*! For license information please see vendors-node_modules_keystonehq_animated-qr_dist_index_js-node_modules_keystonehq_bc-ur-regis-468b89.js.LICENSE.txt */
(self.webpackChunk_rise_wallet_solflare_extension=self.webpackChunk_rise_wallet_solflare_extension||[]).push([["vendors-node_modules_keystonehq_animated-qr_dist_index_js-node_modules_keystonehq_bc-ur-regis-468b89","vendors-libs_foundation-ui_node_modules_react-virtuoso_dist_index_mjs"],{"../../../node_modules/@keystonehq/animated-qr/dist/index.js":function(e,t,o){"use strict";e.exports=o("../../../node_modules/@keystonehq/animated-qr/dist/animated-qr.cjs.production.min.js")},"../../../node_modules/@keystonehq/bc-ur-registry-sol/dist/index.js":function(e,t,o){"use strict";e.exports=o("../../../node_modules/@keystonehq/bc-ur-registry-sol/dist/bc-ur-registry-sol.cjs.production.min.js")},"../../../node_modules/eth-phishing-detect/src/detector.js":function(e,t,o){const n=o("../../../node_modules/fast-levenshtein/levenshtein.js");function r(e){return e.map(i)}function i(e){return e.split(".").reverse()}function l(e){return e.slice(1).reverse().join(".")}function s(e,t){return t.some((t=>!(t.length>e.length)&&t.every(((t,o)=>e[o]===t))))}e.exports=class{constructor(e){this.whitelist=r(e.whitelist||[]),this.blacklist=r(e.blacklist||[]),this.fuzzylist=r(e.fuzzylist||[]),this.tolerance="tolerance"in e?e.tolerance:3}check(e){const t=i("."===e.substring(e.length-1)?e.slice(0,-1):e);if(s(t,this.whitelist))return{type:"whitelist",result:!1};if(s(t,this.blacklist))return{type:"blacklist",result:!0};if(this.tolerance>0){let e=l(t);e=e.replace("www.","");const o=this.fuzzylist.find((t=>{const o=l(t);return n.get(e,o)<=this.tolerance}));if(o)return{type:"fuzzy",result:!0,match:o.slice().reverse().join(".")}}return{type:"all",result:!1}}}},"../../../node_modules/fast-levenshtein/levenshtein.js":function(e,t,o){e=o.nmd(e);var n,r=o("../../../node_modules/console-browserify/index.js");!function(){"use strict";var i;try{i="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){r.log("Collator could not be initialized and wouldn't be used")}var l=[],s=[],c={get:function(e,t,o){var n,r,c,u,a,d,f=o&&i&&o.useCollator,m=e.length,h=t.length;if(0===m)return h;if(0===h)return m;for(c=0;c<h;++c)l[c]=c,s[c]=t.charCodeAt(c);if(l[h]=h,f)for(c=0;c<m;++c){for(r=c+1,u=0;u<h;++u)n=r,d=0===i.compare(e.charAt(c),String.fromCharCode(s[u])),(r=l[u]+(d?0:1))>(a=n+1)&&(r=a),r>(a=l[u+1]+1)&&(r=a),l[u]=n;l[u]=r}else for(c=0;c<m;++c){for(r=c+1,u=0;u<h;++u)n=r,d=e.charCodeAt(c)===s[u],(r=l[u]+(d?0:1))>(a=n+1)&&(r=a),r>(a=l[u+1]+1)&&(r=a),l[u]=n;l[u]=r}return r}};null!==o.amdD&&o.amdO?void 0===(n=function(){return c}.call(t,o,t,e))||(e.exports=n):null!==e&&void 0!==t&&e.exports===t?e.exports=c:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=c:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=c)}()},"../../../node_modules/pretty-num/src/pretty-num.js":function(e,t,o){"use strict";o.d(t,{Z:function(){return s}});var n=o("../../../node_modules/from-exponential/src/index.js"),r=o("../../../node_modules/thousands/index.js"),i=o.n(r),l=o("../../../node_modules/pretty-num/src/to-precision.js");function s(e,{precision:t,precisionSetting:o,roundingMode:r,thousandsSeparator:s,decimalSeparator:c,separateOneDigit:u=!0}={}){return e=(0,n.Z)(e),e=(0,l.ZP)(e,t,{precisionSetting:o,roundingMode:r}),s&&(u||e>=1e4)&&(e=i()(e,s)),c&&"."!==c&&(e=e.replace(".",c)),e}},"../../../node_modules/pretty-num/src/to-precision.js":function(e,t,o){"use strict";o.d(t,{ZP:function(){return s},ok:function(){return l},tT:function(){return i}});var n=o("../../../node_modules/pretty-num/src/strip-zeros.js"),r=o("../../../node_modules/pretty-num/src/pad-zeros-to-fixed.js");const i={REDUCE:1,REDUCE_SIGNIFICANT:2,FIXED:3,INCREASE:4},l={UP:1,DOWN:2,CEIL:3,FLOOR:4,HALF_UP:5,HALF_DOWN:6,HALF_EVEN:7};function s(e,t,o={}){if(-1!==(e=e.toString()).toLowerCase().indexOf("e"))return e;if(o.precisionSetting||(o.precisionSetting=i.REDUCE),o.precisionSetting===i.FIXED){let l=c(e,t,{precisionSetting:i.REDUCE,roundingMode:o.roundingMode});return l=(0,n.Z)(l,!0),l=(0,r.Z)(l,t),l}if(o.precisionSetting===i.INCREASE){const o=(0,n.Z)(e);return(0,r.Z)(o,t)}return(0,n.Z)(c(e,t,o))}function c(e,t,{precisionSetting:o=i.REDUCE,roundingMode:n=l.HALF_UP}){if(!t&&0!==t)return e;t=Number(t);const r=e.split(".");let s=r[0];const c=r[1];if(!c)return e;let u=!1;if("-"===s[0]&&(u=!0,s=s.slice(1)),e=s+c,o===i.REDUCE_SIGNIFICANT){const e=c.match(/^0*/);e&&(t+=e[0].length)}const a=s.length+t,d=Math.min(c.length,t),f=e.slice(a);if(e=e.slice(0,a),f&&function(e,t,o,n){if(!e||e===new Array(e.length+1).join("0"))return!1;if(n===l.DOWN||!o&&n===l.FLOOR||o&&n===l.CEIL)return!1;if(n===l.UP||o&&n===l.FLOOR||!o&&n===l.CEIL)return!0;const r=`5${new Array(e.length).join("0")}`;if(e>r)return!0;if(e<r)return!1;switch(n){case l.HALF_DOWN:return!1;case l.HALF_UP:return!0;case l.HALF_EVEN:default:return Number.parseInt(t[t.length-1],10)%2==1}}(f,e,u,n)&&(e=function(e,t=1){let o="";for(let n=e.length-1;n>=0;n-=1){let r=Number.parseInt(e[n],10)+t;10===r?(t=1,r=0):t=0,o+=r}return t&&(o+=t),o.split("").reverse().join("")}(e)),d){const t=e.length-d;e=`${e.slice(0,t)}.${e.slice(t)}`}return(u?"-":"")+e}},"../../../node_modules/react-dom/client.js":function(e,t,o){"use strict";var n=o("../../../node_modules/react-dom/index.js");t.s=n.createRoot,n.hydrateRoot},"../../../node_modules/react/cjs/react.production.min.js":function(e,t){"use strict";var o=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,o){this.props=e,this.context=t,this.refs=g,this.updater=o||h}function x(){}function I(e,t,o){this.props=e,this.context=t,this.refs=g,this.updater=o||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var w=I.prototype=new x;w.constructor=I,p(w,v.prototype),w.isPureReactComponent=!0;var y=Array.isArray,T=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},l=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)T.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),a=0;a<c;a++)u[a]=arguments[a+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:l,ref:s,props:i,_owner:S.current}}function b(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var H=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,r,i,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case n:c=!0}}if(c)return l=l(c=e),e=""===i?"."+R(c,0):i,y(l)?(r="",null!=e&&(r=e.replace(H,"$&/")+"/"),k(l,t,r,"",(function(e){return e}))):null!=l&&(b(l)&&(l=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||c&&c.key===l.key?"":(""+l.key).replace(H,"$&/")+"/")+e)),t.push(l)),1;if(c=0,i=""===i?".":i+":",y(e))for(var u=0;u<e.length;u++){var a=i+R(s=e[u],u);c+=k(s,t,r,a,l)}else if(a=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"==typeof a)for(e=a.call(e),u=0;!(s=e.next()).done;)c+=k(s=s.value,t,r,a=i+R(s,u++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _(e,t,o){if(null==e)return e;var n=[],r=0;return k(e,n,"","",(function(e){return t.call(o,e,r++)})),n}function z(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},O={transition:null},L={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:_,forEach:function(e,t,o){_(e,(function(){t.apply(this,arguments)}),o)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!b(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=l,t.PureComponent=I,t.StrictMode=i,t.Suspense=a,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)T.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var a=0;a<u;a++)c[a]=arguments[a+2];r.children=c}return{$$typeof:o,type:e.type,key:i,ref:l,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=b,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,o){return B.current.useImperativeHandle(e,t,o)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,o){return B.current.useReducer(e,t,o)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,o){return B.current.useSyncExternalStore(e,t,o)},t.useTransition=function(){return B.current.useTransition()},t.version="18.2.0"},"../../../node_modules/react/index.js":function(e,t,o){"use strict";e.exports=o("../../../node_modules/react/cjs/react.production.min.js")},"../../../node_modules/thousands/index.js":function(e){"use strict";e.exports=function(e,t){var o=((e||0===e?e:"")+"").split(".");return o.length&&(o[0]=o[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1"+(t||","))),o.join(".")}},"../../libs/foundation-ui/node_modules/react-virtuoso/dist/index.mjs":function(e,t,o){"use strict";o.d(t,{OO:function(){return Kt}});var n=o("../../../node_modules/react/index.js"),r=o("../../../node_modules/react-dom/index.js"),i=o("../../../node_modules/console-browserify/index.js");function l(e,t){return o=>e(t(o))}function s(e,t){return t(e)}function c(e,t){return o=>e(t,o)}function u(e,t){return()=>e(t)}function a(e,t){return t(e),e}function d(...e){return e}function f(e){e()}function m(e){return()=>e}function h(){}function p(e,t){return e(1,t)}function g(e,t){e(0,t)}function v(e){e(2)}function x(e){return e(4)}function I(e,t){return p(e,c(t,0))}function w(e,t){const o=e(1,(e=>{o(),t(e)}));return o}function y(){const e=[];return(t,o)=>{switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(o),()=>{const t=e.indexOf(o);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((e=>{e(o)}));default:throw new Error(`unrecognized action ${t}`)}}}function T(e){let t=e;const o=y();return(e,n)=>{switch(e){case 1:n(t);break;case 0:t=n;break;case 4:return t}return o(e,n)}}function S(e){return a(y(),(t=>I(e,t)))}function C(e,t){return a(T(t),(t=>I(e,t)))}function E(e,...t){const o=function(...e){return t=>e.reduceRight(s,t)}(...t);return(t,n)=>{switch(t){case 1:return p(e,o(n));case 2:return void v(e)}}}function b(e,t){return e===t}function H(e=b){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function R(e){return t=>o=>{e(o)&&t(o)}}function k(e){return t=>l(t,e)}function _(e){return t=>()=>t(e)}function z(e,t){return o=>n=>o(t=e(t,n))}function B(e){return t=>o=>{e>0?e--:t(o)}}function O(e){let t,o;return n=>r=>{t=r,o||(o=setTimeout((()=>{o=void 0,n(t)}),e))}}function L(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout((()=>{n(t)}),e)}}function P(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);p(e,(e=>{const s=o;o|=l,t[i]=e,s!==r&&o===r&&n&&(n(),n=null)}))})),e=>i=>{const l=()=>e([i].concat(t));o===r?l():n=l}}function j(...e){return function(t,o){switch(t){case 1:return function(...e){return()=>{e.map(f)}}(...e.map((e=>p(e,o))));case 2:return;default:throw new Error(`unrecognized action ${t}`)}}}function F(e,t=b){return E(e,H(t))}function A(...e){const t=y(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);p(e,(e=>{o[i]=e,n|=l,n===r&&g(t,o)}))})),function(e,i){switch(e){case 1:return n===r&&i(o),p(t,i);case 2:return v(t);default:throw new Error(`unrecognized action ${e}`)}}}function M(e,t=[],{singleton:o}={singleton:!0}){return{id:W(),constructor:e,dependencies:t,singleton:o}}const W=()=>Symbol(),D="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function V(e,t,o){const r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),l=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),d=n.createContext({});function f(e,o){e.propsReady&&g(e.propsReady,!1);for(const n of r)g(e[t.required[n]],o[n]);for(const n of i)n in o&&g(e[t.optional[n]],o[n]);e.propsReady&&g(e.propsReady,!0)}function I(e){return s.reduce(((o,n)=>(o[n]=function(e){let t,o;const n=()=>t&&t();return function(r,i){switch(r){case 1:if(i){if(o===i)return;return n(),o=i,t=p(e,i),t}return n(),h;case 2:return n(),void(o=null);default:throw new Error(`unrecognized action ${r}`)}}}(e[t.events[n]]),o)),{})}const w=n.forwardRef(((c,h)=>{const{children:x,...w}=c,[y]=n.useState((()=>a(function(e){const t=new Map,o=({id:e,constructor:n,dependencies:r,singleton:i})=>{if(i&&t.has(e))return t.get(e);const l=n(r.map((e=>o(e))));return i&&t.set(e,l),l};return o(e)}(e),(e=>f(e,w))))),[T]=n.useState(u(I,y));return D((()=>{for(const e of s)e in w&&p(T[e],w[e]);return()=>{Object.values(T).map(v)}}),[w,T,y]),D((()=>{f(y,w)})),n.useImperativeHandle(h,m(function(e){return l.reduce(((o,n)=>(o[n]=o=>{g(e[t.methods[n]],o)},o)),{})}(y))),n.createElement(d.Provider,{value:y},o?n.createElement(o,function(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const e in t)n.hasOwnProperty(e)||(o[e]=t[e]);return o}([...r,...i,...s],w),x):x)}));return{Component:w,usePublisher:e=>n.useCallback(c(g,n.useContext(d)[e]),[e]),useEmitterValue:e=>{const t=n.useContext(d)[e],[o,r]=n.useState(u(x,t));return D((()=>p(t,(e=>{e!==o&&r(m(e))}))),[t,o]),o},useEmitter:(e,t)=>{const o=n.useContext(d)[e];D((()=>p(o,t)),[t,o])}}}const N="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;var $=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))($||{});const U={0:"debug",1:"log",2:"warn",3:"error"},G=M((()=>{const e=T(3);return{log:T(((t,o,n=1)=>{n>=(("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL??x(e))&&i[U[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)})),logLevel:e}}),[],{singleton:!0});function q(e,t=!0){const o=n.useRef(null);let r=e=>{};if("undefined"!=typeof ResizeObserver){const n=new ResizeObserver((t=>{const o=t[0].target;null!==o.offsetParent&&e(o)}));r=e=>{e&&t?(n.observe(e),o.current=e):(o.current&&n.unobserve(o.current),o.current=null)}}return{ref:o,callbackRef:r}}function K(e,t=!0){return q(e,t).callbackRef}function Z(e,t,o,n,r,i,l){return q((o=>{const s=function(e,t,o,n){const r=e.length;if(0===r)return null;const i=[];for(let o=0;o<r;o++){const r=e.item(o);if(!r||void 0===r.dataset.index)continue;const l=parseInt(r.dataset.index),s=parseFloat(r.dataset.knownSize),c=t(r,"offsetHeight");if(0===c&&n("Zero-sized element, this should not happen",{child:r},$.ERROR),c===s)continue;const u=i[i.length-1];0===i.length||u.size!==c||u.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:c}):i[i.length-1].endIndex++}return i}(o.children,t,0,r);let c=o.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const u="window"===c.lastElementChild.dataset.viewportType,a=l?l.scrollTop:u?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,d=l?l.scrollHeight:u?document.documentElement.scrollHeight:c.scrollHeight,f=l?l.offsetHeight:u?window.innerHeight:c.offsetHeight;n({scrollTop:Math.max(a,0),scrollHeight:d,viewportHeight:f}),null==i||i(function(e,t,o){return"normal"===t||(null==t?void 0:t.endsWith("px"))||o("row-gap was not resolved to pixel value correctly",t,$.WARN),"normal"===t?0:parseInt(t??"0",10)}(0,getComputedStyle(o).rowGap,r)),null!==s&&e(s)}),o)}function Y(e,t){return Math.round(e.getBoundingClientRect()[t])}function J(e,t){return Math.abs(e-t)<1.01}function X(e,t,o,i=h,l){const s=n.useRef(null),c=n.useRef(null),u=n.useRef(null),a=n.useCallback((o=>{const n=o.target,i=n===window||n===document,l=i?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,s=i?document.documentElement.scrollHeight:n.scrollHeight,a=i?window.innerHeight:n.offsetHeight,d=()=>{e({scrollTop:Math.max(l,0),scrollHeight:s,viewportHeight:a})};o.suppressFlushSync?d():r.flushSync(d),null!==c.current&&(l===c.current||l<=0||l===s-a)&&(c.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))}),[e,t]);return n.useEffect((()=>{const e=l||s.current;return i(l||s.current),a({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",a,{passive:!0}),()=>{i(null),e.removeEventListener("scroll",a)}}),[s,a,o,i,l]),{scrollerRef:s,scrollByCallback:function(e){s.current.scrollBy(e)},scrollToCallback:function(o){const n=s.current;if(!n||"offsetHeight"in n&&0===n.offsetHeight)return;const r="smooth"===o.behavior;let i,l,a;n===window?(l=Math.max(Y(document.documentElement,"height"),document.documentElement.scrollHeight),i=window.innerHeight,a=document.documentElement.scrollTop):(l=n.scrollHeight,i=Y(n,"height"),a=n.scrollTop);const d=l-i;if(o.top=Math.ceil(Math.max(Math.min(d,o.top),0)),J(i,l)||o.top===a)return e({scrollTop:a,scrollHeight:l,viewportHeight:i}),void(r&&t(!0));r?(c.current=o.top,u.current&&clearTimeout(u.current),u.current=setTimeout((()=>{u.current=null,c.current=null,t(!0)}),1e3)):c.current=null,n.scrollTo(o)}}}const Q=M((()=>{const e=y(),t=y(),o=T(0),n=y(),r=T(0),i=y(),l=y(),s=T(0),c=T(0),u=T(0),a=T(0),d=y(),f=y(),m=T(!1);return I(E(e,k((({scrollTop:e})=>e))),t),I(E(e,k((({scrollHeight:e})=>e))),l),I(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:a,scrollHeight:l,smoothScrollTargetReached:n,scrollTo:d,scrollBy:f,statefulScrollTop:r,deviation:o,scrollingInProgress:m}}),[],{singleton:!0}),ee={lvl:0};function te(e,t,o,n=ee,r=ee){return{k:e,v:t,lvl:o,l:n,r:r}}function oe(e){return e===ee}function ne(){return ee}function re(e,t){if(oe(e))return ee;const{k:o,l:n,r:r}=e;if(t===o){if(oe(n))return r;if(oe(r))return n;{const[t,o]=ue(n);return he(de(e,{k:t,v:o,l:ae(n)}))}}return he(de(e,t<o?{l:re(n,t)}:{r:re(r,t)}))}function ie(e,t,o="k"){if(oe(e))return[-1/0,void 0];if(e[o]===t)return[e.k,e.v];if(e[o]<t){const n=ie(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return ie(e.l,t,o)}function le(e,t,o){return oe(e)?te(t,o,1):t===e.k?de(e,{k:t,v:o}):t<e.k?me(de(e,{l:le(e.l,t,o)})):me(de(e,{r:le(e.r,t,o)}))}function se(e,t,o){if(oe(e))return[];const{k:n,v:r,l:i,r:l}=e;let s=[];return n>t&&(s=s.concat(se(i,t,o))),n>=t&&n<=o&&s.push({k:n,v:r}),n<=o&&(s=s.concat(se(l,t,o))),s}function ce(e){return oe(e)?[]:[...ce(e.l),{k:e.k,v:e.v},...ce(e.r)]}function ue(e){return oe(e.r)?[e.k,e.v]:ue(e.r)}function ae(e){return oe(e.r)?e.l:he(de(e,{r:ae(e.r)}))}function de(e,t){return te(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function fe(e){return oe(e)||e.lvl>e.r.lvl}function me(e){return ve(xe(e))}function he(e){const{l:t,r:o,lvl:n}=e;if(o.lvl>=n-1&&t.lvl>=n-1)return e;if(n>o.lvl+1){if(fe(t))return xe(de(e,{lvl:n-1}));if(oe(t)||oe(t.r))throw new Error("Unexpected empty nodes");return de(t.r,{l:de(t,{r:t.r.l}),r:de(e,{l:t.r.r,lvl:n-1}),lvl:n})}if(fe(e))return ve(de(e,{lvl:n-1}));if(oe(o)||oe(o.l))throw new Error("Unexpected empty nodes");{const t=o.l,r=fe(t)?o.lvl-1:o.lvl;return de(t,{l:de(e,{r:t.l,lvl:n-1}),r:ve(de(o,{l:t.r,lvl:r})),lvl:t.lvl+1})}}function pe(e,t,o){if(oe(e))return[];return ge(se(e,ie(e,t)[0],o),(({k:e,v:t})=>({index:e,value:t})))}function ge(e,t){const o=e.length;if(0===o)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:o,value:s}=t(e[l]);i.push({start:n,end:o-1,value:r}),n=o,r=s}return i.push({start:n,end:1/0,value:r}),i}function ve(e){const{r:t,lvl:o}=e;return oe(t)||oe(t.r)||t.lvl!==o||t.r.lvl!==o?e:de(t,{l:de(e,{r:t.l}),lvl:o+1})}function xe(e){const{l:t}=e;return oe(t)||t.lvl!==e.lvl?e:de(t,{r:de(e,{l:t.r})})}function Ie(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=o(e[i],t);if(0===l)return i;if(-1===l){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function we(e,t,o){return e[Ie(e,t,o)]}const ye=M((()=>({recalcInProgress:T(!1)})),[],{singleton:!0});function Te(e){const{size:t,startIndex:o,endIndex:n}=e;return e=>e.start===o&&(e.end===n||e.end===1/0)&&e.value===t}function Se({index:e},t){return t===e?0:t<e?-1:1}function Ce({offset:e},t){return t===e?0:t<e?-1:1}function Ee(e){return{index:e.index,value:e}}function be(e,t,o,n){let r=e,i=0,l=0,s=0,c=0;if(0!==t){c=Ie(r,t-1,Se),s=r[c].offset;const e=ie(o,t-1);i=e[0],l=e[1],r.length&&r[c].size===ie(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:e,value:c}of pe(o,t,1/0)){const t=e-i,o=t*l+s+t*n;r.push({offset:o,size:c,index:e}),i=e,s=o,l=c}return{offsetTree:r,lastIndex:i,lastOffset:s,lastSize:l}}function He(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,$.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&oe(i)&&2===t.length){const e=t[0].size,n=t[1].size;l=o.reduce(((t,o)=>le(le(t,o,e),o+1,n)),l)}else[l,s]=function(e,t){let o=oe(e)?0:1/0;for(const n of t){const{size:t,startIndex:r,endIndex:i}=n;if(o=Math.min(o,r),oe(e)){e=le(e,0,t);continue}const l=pe(e,r-1,i+1);if(l.some(Te(n)))continue;let s=!1,c=!1;for(const{start:o,end:n,value:r}of l)s?(i>=o||t===r)&&(e=re(e,o)):(c=r!==t,s=!0),n>i&&i>=o&&r!==t&&(e=le(e,i+1,r));c&&(e=le(e,r,t))}return[e,o]}(l,t);if(l===i)return e;const{offsetTree:c,lastIndex:u,lastSize:a,lastOffset:d}=be(e.offsetTree,s,l,r);return{sizeTree:l,offsetTree:c,lastIndex:u,lastOffset:d,lastSize:a,groupOffsetTree:o.reduce(((e,t)=>le(e,t,Re(t,c,r))),ne()),groupIndices:o}}function Re(e,t,o){if(0===t.length)return 0;const{offset:n,index:r,size:i}=we(t,e,Se),l=e-r,s=i*l+(l-1)*o+n;return s>0?s+o:s}function ke(e,t,o){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=_e("LAST"===e.index?o:e.index,t);return n=Math.max(0,n,Math.min(o,n)),n}}function _e(e,t){if(!ze(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function ze(e){return!oe(e.groupOffsetTree)}const Be={offsetHeight:"height",offsetWidth:"width"},Oe=M((([{log:e},{recalcInProgress:t}])=>{const o=y(),n=y(),r=C(n,0),i=y(),l=y(),s=T(0),c=T([]),u=T(void 0),a=T(void 0),d=T(((e,t)=>Y(e,Be[t]))),f=T(void 0),m=T(0),h={offsetTree:[],sizeTree:ne(),groupOffsetTree:ne(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=C(E(o,P(c,e,m),z(He,h),H()),h);I(E(c,R((e=>e.length>0)),P(v,m),k((([e,t,o])=>{const n=e.reduce(((e,n,r)=>le(e,n,Re(n,t.offsetTree,o)||r)),ne());return{...t,groupIndices:e,groupOffsetTree:n}}))),v),I(E(n,P(v),R((([e,{lastIndex:t}])=>e<t)),k((([e,{lastIndex:t,lastSize:o}])=>[{startIndex:e,endIndex:t,size:o}]))),o),I(u,a);const w=C(E(u,k((e=>void 0===e))),!0);I(E(a,R((e=>void 0!==e&&oe(x(v).sizeTree))),k((e=>[{startIndex:0,endIndex:0,size:e}]))),o);const b=S(E(o,P(v),z((({sizes:e},[t,o])=>({changed:o!==e,sizes:o})),{changed:!1,sizes:h}),k((e=>e.changed))));p(E(s,z(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),k((e=>e.diff))),(e=>{e>0?(g(t,!0),g(i,e)):e<0&&g(l,e)})),p(E(s,P(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},$.ERROR)}));const _=S(i);I(E(i,P(v),k((([e,t])=>{if(t.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return ce(t.sizeTree).reduce(((t,{k:o,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:o+e-1,size:t.prevSize}],prevIndex:o+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:t.lastSize}).ranges}))),o);const B=S(E(l,P(v,m),k((([e,{offsetTree:t},o])=>Re(-e,t,o)))));return I(E(l,P(v,m),k((([e,t,o])=>{if(t.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");const n=ce(t.sizeTree).reduce(((t,{k:o,v:n})=>le(t,Math.max(0,o+e),n)),ne());return{...t,sizeTree:n,...be(t.offsetTree,0,n,o)}}))),v),{data:f,totalCount:n,sizeRanges:o,groupIndices:c,defaultItemSize:a,fixedItemSize:u,unshiftWith:i,shiftWith:l,shiftWithOffset:B,beforeUnshiftWith:_,firstItemIndex:s,gap:m,sizes:v,listRefresh:b,statefulTotalCount:r,trackItemSizes:w,itemSize:d}}),d(G,ye),{singleton:!0}),Le="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function Pe(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Le||(t.behavior="auto"),t.offset||(t.offset=0),t}const je=M((([{sizes:e,totalCount:t,listRefresh:o,gap:n},{scrollingInProgress:r,viewportHeight:i,scrollTo:l,smoothScrollTargetReached:s,headerHeight:c,footerHeight:u,fixedHeaderHeight:a,fixedFooterHeight:d},{log:f}])=>{const m=y(),h=T(0);let v=null,x=null,S=null;function C(){v&&(v(),v=null),S&&(S(),S=null),x&&(clearTimeout(x),x=null),g(r,!1)}return I(E(m,P(e,i,t,h,c,u,f),P(n,a,d),k((([[e,t,n,i,l,c,u,a],d,f,h])=>{const I=Pe(e),{align:y,behavior:T,offset:b}=I,H=i-1,R=ke(I,t,H);let k=Re(R,t.offsetTree,d)+c;"end"===y?(k+=f+ie(t.sizeTree,R)[1]-n+h,R===H&&(k+=u)):"center"===y?k+=(f+ie(t.sizeTree,R)[1]-n+h)/2:k-=l,b&&(k+=b);const _=t=>{C(),t?(a("retrying to scroll to",{location:e},$.DEBUG),g(m,e)):a("list did not change, scroll successful",{},$.DEBUG)};if(C(),"smooth"===T){let e=!1;S=p(o,(t=>{e=e||t})),v=w(s,(()=>{_(e)}))}else v=w(E(o,(150,e=>{const t=setTimeout((()=>{e(!1)}),150);return o=>{o&&(e(!0),clearTimeout(t))}})),_);return x=setTimeout((()=>{C()}),1200),g(r,!0),a("scrolling from index to",{index:R,top:k,behavior:T},$.DEBUG),{top:k,behavior:T}}))),l),{scrollToIndex:m,topListHeight:h}}),d(Oe,Q,G),{singleton:!0}),Fe="up",Ae="down",Me={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},We=M((([{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:n,footerHeight:r,scrollBy:i}])=>{const l=T(!1),s=T(!0),c=y(),u=y(),a=T(4),d=T(0),f=C(E(j(E(F(t),B(1),_(!0)),E(F(t),B(1),_(!1),L(100))),H()),!1),m=C(E(j(E(i,_(!0)),E(i,_(!1),L(200))),H()),!1);I(E(A(F(t),F(d)),k((([e,t])=>e<=t)),H()),s),I(E(s,O(50)),u);const h=S(E(A(e,F(o),F(n),F(r),F(a)),z(((e,[{scrollTop:t,scrollHeight:o},n,r,i,l])=>{const s={viewportHeight:n,scrollTop:t,scrollHeight:o};if(t+n-o>-l){let o,n;return t>e.state.scrollTop?(o="SCROLLED_DOWN",n=e.state.scrollTop-t):(o="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:s,atBottomBecause:o,scrollTopDelta:n}}let c;return c=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:c,state:s}}),Me),H(((e,t)=>e&&e.atBottom===t.atBottom)))),p=C(E(e,z(((e,{scrollTop:t,scrollHeight:o,viewportHeight:n})=>{if(J(e.scrollHeight,o))return{scrollTop:t,scrollHeight:o,jump:0,changed:!1};{const r=o-(t+n)<1;return e.scrollTop!==t&&r?{scrollHeight:o,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:o,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),R((e=>e.changed)),k((e=>e.jump))),0);I(E(h,k((e=>e.atBottom))),l),I(E(l,O(50)),c);const g=T(Ae);I(E(e,k((({scrollTop:e})=>e)),H(),z(((e,t)=>x(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Fe:Ae,prevScrollTop:t}),{direction:Ae,prevScrollTop:0}),k((e=>e.direction))),g),I(E(e,O(50),_("none")),g);const v=T(0);return I(E(f,R((e=>!e)),_(0)),v),I(E(t,O(100),P(f),R((([e,t])=>!!t)),z((([e,t],[o])=>[t,o]),[0,0]),k((([e,t])=>t-e))),v),{isScrolling:f,isAtTop:s,isAtBottom:l,atBottomState:h,atTopStateChange:u,atBottomStateChange:c,scrollDirection:g,atBottomThreshold:a,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:p}}),d(Q)),De=M((([{log:e}])=>{const t=T(!1),o=S(E(t,R((e=>e)),H()));return p(t,(t=>{t&&x(e)("props updated",{},$.DEBUG)})),{propsReady:t,didMount:o}}),d(G),{singleton:!0}),Ve=M((([{sizes:e,listRefresh:t,defaultItemSize:o},{scrollTop:n},{scrollToIndex:r},{didMount:i}])=>{const l=T(!0),s=T(0);return I(E(i,P(s),R((([e,t])=>!!t)),_(!1)),l),p(E(A(t,i),P(l,e,o),R((([[,e],t,{sizeTree:o},n])=>e&&(!oe(o)||void 0!==n)&&!t)),P(s)),(([,e])=>{setTimeout((()=>{w(n,(()=>{g(l,!0)})),g(r,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s}}),d(Oe,Q,je,De),{singleton:!0});function Ne(e){return!!e&&("smooth"===e?"smooth":"auto")}const $e=M((([{totalCount:e,listRefresh:t},{isAtBottom:o,atBottomState:n},{scrollToIndex:r},{scrolledToInitialItem:i},{propsReady:l,didMount:s},{log:c},{scrollingInProgress:u}])=>{const a=T(!1),d=y();let f=null;function m(e){g(r,{index:"LAST",align:"end",behavior:e})}function h(e){const t=w(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||f||(x(c)("scrolling to bottom due to increased size",{},$.DEBUG),m("auto"))}));setTimeout(t,100)}return p(E(A(E(F(e),B(1)),s),P(F(a),o,i,u),k((([[e,t],o,n,r,i])=>{let l=t&&r,s="auto";return l&&(s=((e,t)=>"function"==typeof e?Ne(e(t)):t&&Ne(e))(o,n||i),l=l&&!!s),{totalCount:e,shouldFollow:l,followOutputBehavior:s}})),R((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:o})=>{f&&(f(),f=null),f=w(t,(()=>{x(c)("following output to ",{totalCount:e},$.DEBUG),m(o),f=null}))})),p(E(A(F(a),e,l),R((([e,,t])=>e&&t)),z((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),R((({refreshed:e})=>e)),P(a,e)),(([,e])=>{h(!1!==e)})),p(d,(()=>{h(!1!==x(a))})),p(A(F(a),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")})),{followOutput:a,autoscrollToBottom:d}}),d(Oe,We,je,Ve,De,G,Q));function Ue(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const Ge=M((([{totalCount:e,groupIndices:t,sizes:o},{scrollTop:n,headerHeight:r}])=>{const i=y(),l=y(),s=S(E(i,k(Ue)));return I(E(s,k((e=>e.totalCount))),e),I(E(s,k((e=>e.groupIndices))),t),I(E(A(n,o,r),R((([e,t])=>ze(t))),k((([e,t,o])=>ie(t.groupOffsetTree,Math.max(e-o,0),"v")[0])),H(),k((e=>[e]))),l),{groupCounts:i,topItemsIndexes:l}}),d(Oe,Q));function qe(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Ke(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Ze="top",Ye="bottom",Je="none";function Xe(e,t,o){return"number"==typeof e?o===Fe&&t===Ze||o===Ae&&t===Ye?e:0:o===Fe?t===Ze?e.main:e.reverse:t===Ye?e.main:e.reverse}function Qe(e,t){return"number"==typeof e?e:e[t]||0}const et=M((([{scrollTop:e,viewportHeight:t,deviation:o,headerHeight:n,fixedHeaderHeight:r}])=>{const i=y(),l=T(0),s=T(0),c=T(0);return{listBoundary:i,overscan:c,topListHeight:l,increaseViewportBy:s,visibleRange:C(E(A(F(e),F(t),F(n),F(i,qe),F(c),F(l),F(r),F(o),F(s)),k((([e,t,o,[n,r],i,l,s,c,u])=>{const a=e-c,d=l+s,f=Math.max(o-a,0);let m=Je;const h=Qe(u,Ze),p=Qe(u,Ye);return n-=c,r+=o+s,(n+=o+s)>e+d-h&&(m=Fe),(r-=c)<e-f+t+p&&(m=Ae),m!==Je?[Math.max(a-o-Xe(i,Ze,m)-h,0),a-f-s+t+Xe(i,Ye,m)+p]:null})),R((e=>null!=e)),H(qe)),[0,0])}}),d(Q),{singleton:!0}),tt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function ot(e,t,o){if(0===e.length)return[];if(!ze(t))return e.map((e=>({...e,index:e.index+o,originalIndex:e.index})));const n=e[0].index,r=e[e.length-1].index,i=[],l=pe(t.groupOffsetTree,n,r);let s,c=0;for(const n of e){let e;(!s||s.end<n.index)&&(s=l.shift(),c=t.groupIndices.indexOf(s.start)),e=n.index===s.start?{type:"group",index:c}:{index:n.index-(c+1)+o,groupIndex:c},i.push({...e,size:n.size,offset:n.offset,originalIndex:n.index,data:n.data})}return i}function nt(e,t,o,n,r,i){const{lastSize:l,lastOffset:s,lastIndex:c}=r;let u=0,a=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];a=t.offset+t.size}const d=o-c,f=u,m=s+d*l+(d-1)*n-a;return{items:ot(e,r,i),topItems:ot(t,r,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:m,top:f,bottom:a,totalCount:o,firstItemIndex:i}}const rt=M((([{sizes:e,totalCount:t,data:o,firstItemIndex:n,gap:r},i,{visibleRange:l,listBoundary:s,topListHeight:c},{scrolledToInitialItem:u,initialTopMostItemIndex:d},{topListHeight:f},m,{didMount:h},{recalcInProgress:p}])=>{const g=T([]),v=y();I(i.topItemsIndexes,g);const x=C(E(A(h,p,F(l,qe),F(t),F(e),F(d),u,F(g),F(n),F(r),o),R((([e,t])=>e&&!t)),k((([,,[e,t],o,n,r,i,l,s,c,u])=>{const d=n,{sizeTree:f,offsetTree:m}=d;if(0===o||0===e&&0===t)return{...tt,totalCount:o};if(oe(f))return nt(function(e,t,o){if(ze(t)){const n=_e(e,t);return[{index:ie(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:o&&o[0]}]}return[{index:e,size:0,offset:0,data:o&&o[0]}]}(function(e,t){const o=t-1;return"number"==typeof e?e:"LAST"===e.index?o:e.index}(r,o),d,u),[],o,c,d,s);const h=[];if(l.length>0){const e=l[0],t=l[l.length-1];let o=0;for(const n of pe(f,e,t)){const r=n.value,i=Math.max(n.start,e),l=Math.min(n.end,t);for(let e=i;e<=l;e++)h.push({index:e,size:r,offset:o,data:u&&u[e]}),o+=r}}if(!i)return nt([],h,o,c,d,s);const p=l.length>0?l[l.length-1]+1:0,g=function(e,t,o,n=0){return n>0&&(t=Math.max(t,we(e,n,Se).offset)),ge(function(e,t,o,n){const r=Ie(e,t,n),i=Ie(e,o,n,r);return e.slice(r,i+1)}(e,t,o,Ce),Ee)}(m,e,t,p);if(0===g.length)return null;const v=o-1;return nt(a([],(o=>{for(const n of g){const r=n.value;let i=r.offset,l=n.start;const s=r.size;if(r.offset<e){l+=Math.floor((e-r.offset+c)/(s+c));const t=l-n.start;i+=t*s+t*c}l<p&&(i+=(p-l)*s,l=p);const a=Math.min(n.end,v);for(let e=l;e<=a&&!(i>=t);e++)o.push({index:e,size:s,offset:i,data:u&&u[e]}),i+=s+c}})),h,o,c,d,s)})),R((e=>null!==e)),H()),tt);return I(E(o,R((e=>void 0!==e)),k((e=>null==e?void 0:e.length))),t),I(E(x,k((e=>e.topListHeight))),f),I(f,c),I(E(x,k((e=>[e.top,e.bottom]))),s),I(E(x,k((e=>e.items))),v),{listState:x,topItemsIndexes:g,endReached:S(E(x,R((({items:e})=>e.length>0)),P(t,o),R((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),k((([,e,t])=>[e-1,t])),H(qe),k((([e])=>e)))),startReached:S(E(x,O(200),R((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),k((({items:e})=>e[0].index)),H())),rangeChanged:S(E(x,R((({items:e})=>e.length>0)),k((({items:e})=>{let t=0,o=e.length-1;for(;"group"===e[t].type&&t<o;)t++;for(;"group"===e[o].type&&o>t;)o--;return{startIndex:e[t].index,endIndex:e[o].index}})),H(Ke))),itemsRendered:v,...m}}),d(Oe,Ge,et,Ve,je,We,De,ye),{singleton:!0}),it=M((([{sizes:e,firstItemIndex:t,data:o,gap:n},{listState:r},{didMount:i}])=>{const l=T(0);return I(E(i,P(l),R((([,e])=>0!==e)),P(e,t,n,o),k((([[,e],t,o,n,r=[]])=>{let i=0;if(t.groupIndices.length>0)for(const o of t.groupIndices){if(o-i>=e)break;i++}const l=e+i;return nt(Array.from({length:l}).map(((e,t)=>({index:t,size:0,offset:0,data:r[t]}))),[],l,n,t,o)}))),r),{initialItemCount:l}}),d(Oe,rt,De),{singleton:!0}),lt=M((([{scrollVelocity:e}])=>{const t=T(!1),o=y(),n=T(!1);return I(E(e,P(n,t,o),R((([e,t])=>!!t)),k((([e,t,o,n])=>{const{exit:r,enter:i}=t;if(o){if(r(e,n))return!1}else if(i(e,n))return!0;return o})),H()),t),p(E(A(t,e,o),P(n)),(([[e,t,o],n])=>e&&n&&n.change&&n.change(t,o))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:o}}),d(We),{singleton:!0}),st=M((([{topItemsIndexes:e}])=>{const t=T(0);return I(E(t,R((e=>e>0)),k((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),d(rt)),ct=M((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:o,fixedFooterHeight:n},{listState:r}])=>{const i=y(),l=C(E(A(e,n,t,o,r),k((([e,t,o,n,r])=>e+t+o+n+r.offsetBottom+r.bottom))),0);return I(F(l),i),{totalListHeight:l,totalListHeightChanged:i}}),d(Q,rt),{singleton:!0});function ut(e){let t,o=!1;return()=>(o||(o=!0,t=e()),t)}const at=ut((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),dt=M((([{scrollBy:e,scrollTop:t,deviation:o,scrollingInProgress:n},{isScrolling:r,isAtBottom:i,scrollDirection:l,lastJumpDueToItemResize:s},{listState:c},{beforeUnshiftWith:u,shiftWithOffset:a,sizes:d,gap:f},{log:m},{recalcInProgress:h}])=>{const v=S(E(c,P(s),z((([,e,t,o],[{items:n,totalCount:r,bottom:i,offsetBottom:l},s])=>{const c=i+l;let u=0;return t===r&&e.length>0&&n.length>0&&(0===n[0].originalIndex&&0===e[0].originalIndex||(u=c-o,0!==u&&(u+=s))),[u,n,r,c]}),[0,[],0,0]),R((([e])=>0!==e)),P(t,l,n,i,m),R((([,e,t,o])=>!o&&0!==e&&t===Fe)),k((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},$.DEBUG),e)))));function x(t){t>0?(g(e,{top:-t,behavior:"auto"}),g(o,0)):(g(o,0),g(e,{top:-t,behavior:"auto"}))}return p(E(v,P(o,r)),(([e,t,n])=>{n&&at()?g(o,t-e):x(-e)})),p(E(A(C(r,!1),o,h),R((([e,t,o])=>!e&&!o&&0!==t)),k((([e,t])=>t)),O(1)),x),I(E(a,k((e=>({top:-e})))),e),p(E(u,P(d,f),k((([e,{lastSize:t},o])=>e*t+e*o))),(t=>{g(o,t),requestAnimationFrame((()=>{g(e,{top:t}),requestAnimationFrame((()=>{g(o,0),g(h,!1)}))}))})),{deviation:o}}),d(Q,We,rt,Oe,G,ye)),ft=M((([{totalListHeight:e},{didMount:t},{scrollTo:o}])=>{const n=T(0);return p(E(t,P(n),R((([,e])=>0!==e)),k((([,e])=>({top:e})))),(t=>{w(E(e,R((e=>0!==e))),(()=>{setTimeout((()=>{g(o,t)}))}))})),{initialScrollTop:n}}),d(ct,De,Q),{singleton:!0}),mt=M((([{viewportHeight:e},{totalListHeight:t}])=>{const o=T(!1);return{alignToBottom:o,paddingTopAddition:C(E(A(o,e,t),R((([e])=>e)),k((([,e,t])=>Math.max(0,e-t))),H()),0)}}),d(Q,ct),{singleton:!0}),ht=M((([{scrollTo:e,scrollContainerState:t}])=>{const o=y(),n=y(),r=y(),i=T(!1),l=T(void 0);return I(E(A(o,n),k((([{viewportHeight:e,scrollTop:t,scrollHeight:o},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:o,viewportHeight:e})))),t),I(E(e,P(n),k((([e,{offsetTop:t}])=>({...e,top:e.top+t})))),r),{useWindowScroll:i,customScrollParent:l,windowScrollContainerState:o,windowViewportRect:n,windowScrollTo:r}}),d(Q)),pt=M((([{sizes:e,totalCount:t,gap:o},{scrollTop:n,viewportHeight:r,headerHeight:i,fixedHeaderHeight:l,fixedFooterHeight:s,scrollingInProgress:c},{scrollToIndex:u}])=>{const a=y();return I(E(a,P(e,r,t,i,l,s,n),P(o),k((([[e,t,o,n,r,i,l,s],u])=>{const{done:a,behavior:d,align:f,...m}=e;let h=null;const p=ke(e,t,n-1),g=Re(p,t.offsetTree,u)+r+i;return g<s+i?h={...m,behavior:d,align:f??"start"}:g+ie(t.sizeTree,p)[1]>s+o-l&&(h={...m,behavior:d,align:f??"end"}),h?a&&w(E(c,B(1),R((e=>!1===e))),a):a&&a(),h})),R((e=>null!==e))),u),{scrollIntoView:a}}),d(Oe,Q,je,rt,G),{singleton:!0}),gt=M((([e,t,o,n,r,i,l,s,c])=>({...e,...t,...o,...n,...r,...i,...l,...s,...c})),d(et,it,De,lt,ct,ft,mt,ht,pt)),vt=M((([{totalCount:e,sizeRanges:t,fixedItemSize:o,defaultItemSize:n,trackItemSizes:r,itemSize:i,data:l,firstItemIndex:s,groupIndices:c,statefulTotalCount:u,gap:a},{initialTopMostItemIndex:d,scrolledToInitialItem:f},m,h,{listState:p,topItemsIndexes:g,...v},{scrollToIndex:x},w,{topItemCount:y},{groupCounts:T},S,C])=>(I(v.rangeChanged,S.scrollSeekRangeChanged),I(E(S.windowViewportRect,k((e=>e.visibleHeight))),m.viewportHeight),{totalCount:e,data:l,firstItemIndex:s,sizeRanges:t,initialTopMostItemIndex:d,scrolledToInitialItem:f,topItemsIndexes:g,topItemCount:y,groupCounts:T,fixedItemHeight:o,defaultItemHeight:n,gap:a,...h,statefulTotalCount:u,listState:p,scrollToIndex:x,trackItemSizes:r,itemSize:i,groupIndices:c,...v,...S,...m,...C})),d(Oe,Ve,Q,$e,rt,je,dt,st,Ge,gt,G)),xt="-webkit-sticky",It="sticky",wt=ut((()=>{if("undefined"==typeof document)return It;const e=document.createElement("div");return e.style.position=xt,e.style.position===xt?xt:It}));function yt(e,t){const o=n.useRef(null),r=n.useCallback((n=>{if(null===n||!n.offsetParent)return;const r=n.getBoundingClientRect(),i=r.width;let l,s;if(t){const e=t.getBoundingClientRect(),o=r.top-e.top;l=e.height-Math.max(0,o),s=o+t.scrollTop}else l=window.innerHeight-Math.max(0,r.top),s=r.top+window.pageYOffset;o.current={offsetTop:s,visibleHeight:l,visibleWidth:i},e(o.current)}),[e,t]),{callbackRef:i,ref:l}=q(r),s=n.useCallback((()=>{r(l.current)}),[r,l]);return n.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver(s);return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),i}const Tt=n.createContext(void 0),St=n.createContext(void 0);function Ct(e){return e}const Et=M((([e,t])=>({...e,...t})),d(vt,M((()=>{const e=T((e=>`Item ${e}`)),t=T(null),o=T((e=>`Group ${e}`)),n=T({}),r=T(Ct),i=T("div"),l=T(h),s=(e,t=null)=>C(E(n,k((t=>t[e])),H()),t);return{context:t,itemContent:e,groupContent:o,components:n,computeItemKey:r,headerFooterTag:i,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}})))),bt=({height:e})=>n.createElement("div",{style:{height:e}}),Ht={position:wt(),zIndex:1,overflowAnchor:"none"},Rt={overflowAnchor:"none"},kt=n.memo((function({showTopList:e=!1}){const t=$t("listState"),o=Nt("sizeRanges"),r=$t("useWindowScroll"),i=$t("customScrollParent"),l=Nt("windowScrollContainerState"),s=Nt("scrollContainerState"),c=i||r?l:s,u=$t("itemContent"),a=$t("context"),d=$t("groupContent"),f=$t("trackItemSizes"),m=$t("itemSize"),p=$t("log"),g=Nt("gap"),{callbackRef:v}=Z(o,m,f,e?h:c,p,g,i),[x,I]=n.useState(0);Ut("deviation",(e=>{x!==e&&I(e)}));const w=$t("EmptyPlaceholder"),y=$t("ScrollSeekPlaceholder")||bt,T=$t("ListComponent"),S=$t("ItemComponent"),C=$t("GroupComponent"),E=$t("computeItemKey"),b=$t("isSeeking"),H=$t("groupIndices").length>0,R=$t("paddingTopAddition"),k=e?{}:{boxSizing:"border-box",paddingTop:t.offsetTop+R,paddingBottom:t.offsetBottom,marginTop:x};return!e&&0===t.totalCount&&w?n.createElement(w,Ot(w,a)):n.createElement(T,{...Ot(T,a),ref:v,style:k,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?t.topItems:t.items).map((e=>{const o=e.originalIndex,r=E(o+t.firstItemIndex,e.data,a);return b?n.createElement(y,{...Ot(y,a),key:r,index:e.index,height:e.size,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?n.createElement(C,{...Ot(C,a),key:r,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,style:Ht},d(e.index)):n.createElement(S,{...Ot(S,a),key:r,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,item:e.data,style:Rt},H?u(e.index,e.groupIndex,e.data,a):u(e.index,e.data,a))})))})),_t={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},zt={width:"100%",height:"100%",position:"absolute",top:0},Bt={width:"100%",position:wt(),top:0,zIndex:1};function Ot(e,t){if("string"!=typeof e)return{context:t}}const Lt=n.memo((function(){const e=$t("HeaderComponent"),t=Nt("headerHeight"),o=$t("headerFooterTag"),r=K((e=>t(Y(e,"height")))),i=$t("context");return e?n.createElement(o,{ref:r},n.createElement(e,Ot(e,i))):null})),Pt=n.memo((function(){const e=$t("FooterComponent"),t=Nt("footerHeight"),o=$t("headerFooterTag"),r=K((e=>t(Y(e,"height")))),i=$t("context");return e?n.createElement(o,{ref:r},n.createElement(e,Ot(e,i))):null}));function jt({usePublisher:e,useEmitter:t,useEmitterValue:o}){return n.memo((function({style:r,children:i,...l}){const s=e("scrollContainerState"),c=o("ScrollerComponent"),u=e("smoothScrollTargetReached"),a=o("scrollerRef"),d=o("context"),{scrollerRef:f,scrollByCallback:m,scrollToCallback:h}=X(s,u,c,a);return t("scrollTo",h),t("scrollBy",m),n.createElement(c,{ref:f,style:{..._t,...r},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...Ot(c,d)},i)}))}function Ft({usePublisher:e,useEmitter:t,useEmitterValue:o}){return n.memo((function({style:r,children:i,...l}){const s=e("windowScrollContainerState"),c=o("ScrollerComponent"),u=e("smoothScrollTargetReached"),a=o("totalListHeight"),d=o("deviation"),f=o("customScrollParent"),m=o("context"),{scrollerRef:p,scrollByCallback:g,scrollToCallback:v}=X(s,u,c,h,f);return N((()=>(p.current=f||window,()=>{p.current=null})),[p,f]),t("windowScrollTo",v),t("scrollBy",g),n.createElement(c,{style:{position:"relative",...r,...0!==a?{height:a+d}:{}},"data-virtuoso-scroller":!0,...l,...Ot(c,m)},i)}))}const At=({children:e})=>{const t=n.useContext(Tt),o=Nt("viewportHeight"),r=Nt("fixedItemHeight"),i=K(l(o,(e=>Y(e,"height"))));return n.useEffect((()=>{t&&(o(t.viewportHeight),r(t.itemHeight))}),[t,o,r]),n.createElement("div",{style:zt,ref:i,"data-viewport-type":"element"},e)},Mt=({children:e})=>{const t=n.useContext(Tt),o=Nt("windowViewportRect"),r=Nt("fixedItemHeight"),i=$t("customScrollParent"),l=yt(o,i);return n.useEffect((()=>{t&&(r(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,o,r]),n.createElement("div",{ref:l,style:zt,"data-viewport-type":"window"},e)},Wt=({children:e})=>{const t=$t("TopItemListComponent"),o=$t("headerHeight"),r={...Bt,marginTop:`${o}px`},i=$t("context");return n.createElement(t||"div",{style:r,context:i},e)},Dt=n.memo((function(e){const t=$t("useWindowScroll"),o=$t("topItemsIndexes").length>0,r=$t("customScrollParent"),i=r||t?qt:Gt,l=r||t?Mt:At;return n.createElement(i,{...e},o&&n.createElement(Wt,null,n.createElement(kt,{showTopList:!0})),n.createElement(l,null,n.createElement(Lt,null),n.createElement(kt,null),n.createElement(Pt,null)))})),{Component:Vt,usePublisher:Nt,useEmitterValue:$t,useEmitter:Ut}=V(Et,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Dt),Gt=jt({usePublisher:Nt,useEmitterValue:$t,useEmitter:Ut}),qt=Ft({usePublisher:Nt,useEmitterValue:$t,useEmitter:Ut}),Kt=Vt,Zt={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Yt={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Jt,ceil:Xt,floor:Qt,min:eo,max:to}=Math;function oo(e,t,o){return Array.from({length:t-e+1}).map(((t,n)=>({index:n+e,data:null==o?void 0:o[n+e]})))}function no(e,t){return e&&e.column===t.column&&e.row===t.row}const ro=M((([{overscan:e,visibleRange:t,listBoundary:o},{scrollTop:n,viewportHeight:r,scrollBy:i,scrollTo:l,smoothScrollTargetReached:s,scrollContainerState:c,footerHeight:u,headerHeight:a},d,f,{propsReady:m,didMount:h},{windowViewportRect:p,windowScrollTo:g,useWindowScroll:v,customScrollParent:x,windowScrollContainerState:w},b])=>{const z=T(0),B=T(0),O=T(Zt),L=T({height:0,width:0}),j=T({height:0,width:0}),M=y(),W=y(),D=T(0),V=T(void 0),N=T({row:0,column:0});I(E(A(h,B,V),R((([,e])=>0!==e)),k((([,e,t])=>({items:oo(0,e-1,t),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0})))),O),I(E(A(F(z),t,F(N,no),F(j,((e,t)=>e&&e.width===t.width&&e.height===t.height)),V),P(L),k((([[e,[t,o],n,r,i],l])=>{const{row:s,column:c}=n,{height:u,width:a}=r,{width:d}=l;if(0===e||0===d)return Zt;if(0===a)return function(e){return{...Yt,items:e}}(oo(0,0,i));const f=so(d,a,c);let m=f*Qt((t+s)/(u+s)),h=f*Xt((o+s)/(u+s))-1;h=eo(e-1,to(h,f-1)),m=eo(h,to(0,m));const p=oo(m,h,i),{top:g,bottom:v}=io(l,n,r,p),x=Xt(e/f);return{items:p,offsetTop:g,offsetBottom:x*u+(x-1)*s-v,top:g,bottom:v,itemHeight:u,itemWidth:a}}))),O),I(E(V,R((e=>void 0!==e)),k((e=>e.length))),z),I(E(L,k((({height:e})=>e))),r),I(E(A(L,j,O,N),k((([e,t,{items:o},n])=>{const{top:r,bottom:i}=io(e,n,t,o);return[r,i]})),H(qe)),o);const $=S(E(F(O),R((({items:e})=>e.length>0)),P(z),R((([{items:e},t])=>e[e.length-1].index===t-1)),k((([,e])=>e-1)),H())),U=S(E(F(O),R((({items:e})=>e.length>0&&0===e[0].index)),_(0),H())),G=S(E(F(O),R((({items:e})=>e.length>0)),k((({items:e})=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),H(Ke)));I(G,f.scrollSeekRangeChanged),I(E(M,P(L,j,z,N),k((([e,t,o,n,r])=>{const i=Pe(e),{align:l,behavior:s,offset:c}=i;let u=i.index;"LAST"===u&&(u=n-1),u=to(0,u,eo(n-1,u));let a=lo(t,r,o,u);return"end"===l?a=Jt(a-t.height+o.height):"center"===l&&(a=Jt(a-t.height/2+o.height/2)),c&&(a+=c),{top:a,behavior:s}}))),l);const q=C(E(O,k((e=>e.offsetBottom+e.bottom))),0);return I(E(p,k((e=>({width:e.visibleWidth,height:e.visibleHeight})))),L),{data:V,totalCount:z,viewportDimensions:L,itemDimensions:j,scrollTop:n,scrollHeight:W,overscan:e,scrollBy:i,scrollTo:l,scrollToIndex:M,smoothScrollTargetReached:s,windowViewportRect:p,windowScrollTo:g,useWindowScroll:v,customScrollParent:x,windowScrollContainerState:w,deviation:D,scrollContainerState:c,footerHeight:u,headerHeight:a,initialItemCount:B,gap:N,...f,gridState:O,totalListHeight:q,...d,startReached:U,endReached:$,rangeChanged:G,propsReady:m,...b}}),d(et,Q,We,lt,De,ht,G));function io(e,t,o,n){const{height:r}=o;return void 0===r||0===n.length?{top:0,bottom:0}:{top:lo(e,t,o,n[0].index),bottom:lo(e,t,o,n[n.length-1].index)+r}}function lo(e,t,o,n){const r=so(e.width,o.width,t.column),i=Qt(n/r),l=i*o.height+to(0,i-1)*t.row;return l>0?l+t.row:l}function so(e,t,o){return to(1,Qt((e+o)/(t+o)))}const co=M((([e,t])=>({...e,...t})),d(ro,M((()=>{const e=T((e=>`Item ${e}`)),t=T({}),o=T(null),n=T("virtuoso-grid-item"),r=T("virtuoso-grid-list"),i=T(Ct),l=T("div"),s=T(h),c=(e,o=null)=>C(E(t,k((t=>t[e])),H()),o);return{context:o,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:r,headerFooterTag:l,scrollerRef:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}})))),uo=n.memo((function(){const e=xo("gridState"),t=xo("listClassName"),o=xo("itemClassName"),r=xo("itemContent"),i=xo("computeItemKey"),l=xo("isSeeking"),s=vo("scrollHeight"),c=xo("ItemComponent"),u=xo("ListComponent"),a=xo("ScrollSeekPlaceholder"),d=xo("context"),f=vo("itemDimensions"),m=vo("gap"),h=xo("log"),p=K((e=>{const t=e.parentElement.parentElement.scrollHeight;s(t);const o=e.firstChild;o&&f(o.getBoundingClientRect()),m({row:To("row-gap",getComputedStyle(e).rowGap,h),column:To("column-gap",getComputedStyle(e).columnGap,h)})}));return n.createElement(u,{ref:p,className:t,...Ot(u,d),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map((t=>{const s=i(t.index,t.data,d);return l?n.createElement(a,{key:s,...Ot(a,d),index:t.index,height:e.itemHeight,width:e.itemWidth}):n.createElement(c,{...Ot(c,d),className:o,"data-index":t.index,key:s},r(t.index,t.data,d))})))})),ao=n.memo((function(){const e=xo("HeaderComponent"),t=vo("headerHeight"),o=xo("headerFooterTag"),r=K((e=>t(Y(e,"height")))),i=xo("context");return e?n.createElement(o,{ref:r},n.createElement(e,Ot(e,i))):null})),fo=n.memo((function(){const e=xo("FooterComponent"),t=vo("footerHeight"),o=xo("headerFooterTag"),r=K((e=>t(Y(e,"height")))),i=xo("context");return e?n.createElement(o,{ref:r},n.createElement(e,Ot(e,i))):null})),mo=({children:e})=>{const t=n.useContext(St),o=vo("itemDimensions"),r=vo("viewportDimensions"),i=K((e=>{r(e.getBoundingClientRect())}));return n.useEffect((()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))}),[t,r,o]),n.createElement("div",{style:zt,ref:i},e)},ho=({children:e})=>{const t=n.useContext(St),o=vo("windowViewportRect"),r=vo("itemDimensions"),i=xo("customScrollParent"),l=yt(o,i);return n.useEffect((()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,o,r]),n.createElement("div",{ref:l,style:zt},e)},po=n.memo((function({...e}){const t=xo("useWindowScroll"),o=xo("customScrollParent"),r=o||t?yo:wo,i=o||t?ho:mo;return n.createElement(r,{...e},n.createElement(i,null,n.createElement(ao,null),n.createElement(uo,null),n.createElement(fo,null)))})),{Component:go,usePublisher:vo,useEmitterValue:xo,useEmitter:Io}=V(co,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},po),wo=jt({usePublisher:vo,useEmitterValue:xo,useEmitter:Io}),yo=Ft({usePublisher:vo,useEmitterValue:xo,useEmitter:Io});function To(e,t,o){return"normal"===t||(null==t?void 0:t.endsWith("px"))||o(`${e} was not resolved to pixel value correctly`,t,$.WARN),"normal"===t?0:parseInt(t??"0",10)}const So=M((([e,t])=>({...e,...t})),d(vt,M((()=>{const e=T((e=>n.createElement("td",null,"Item $",e))),t=T(null),o=T(null),r=T(null),i=T({}),l=T(Ct),s=T(h),c=(e,t=null)=>C(E(i,k((t=>t[e])),H()),t);return{context:t,itemContent:e,fixedHeaderContent:o,fixedFooterContent:r,components:i,computeItemKey:l,scrollerRef:s,TableComponent:c("Table","table"),TableHeadComponent:c("TableHead","thead"),TableFooterComponent:c("TableFoot","tfoot"),TableBodyComponent:c("TableBody","tbody"),TableRowComponent:c("TableRow","tr"),ScrollerComponent:c("Scroller","div"),EmptyPlaceholder:c("EmptyPlaceholder"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),FillerRow:c("FillerRow")}})))),Co=({height:e})=>n.createElement("tr",null,n.createElement("td",{style:{height:e}})),Eo=({height:e})=>n.createElement("tr",null,n.createElement("td",{style:{height:e,padding:0,border:0}})),bo=n.memo((function(){const e=Bo("listState"),t=zo("sizeRanges"),o=Bo("useWindowScroll"),r=Bo("customScrollParent"),i=zo("windowScrollContainerState"),l=zo("scrollContainerState"),s=r||o?i:l,c=Bo("itemContent"),u=Bo("trackItemSizes"),a=Bo("itemSize"),d=Bo("log"),{callbackRef:f,ref:m}=Z(t,a,u,s,d,void 0,r),[h,p]=n.useState(0);Oo("deviation",(e=>{h!==e&&(m.current.style.marginTop=`${e}px`,p(e))}));const g=Bo("EmptyPlaceholder"),v=Bo("ScrollSeekPlaceholder")||Co,x=Bo("FillerRow")||Eo,I=Bo("TableBodyComponent"),w=Bo("TableRowComponent"),y=Bo("computeItemKey"),T=Bo("isSeeking"),S=Bo("paddingTopAddition"),C=Bo("firstItemIndex"),E=Bo("statefulTotalCount"),b=Bo("context");if(0===E&&g)return n.createElement(g,Ot(g,b));const H=e.offsetTop+S+h,R=e.offsetBottom,k=H>0?n.createElement(x,{height:H,key:"padding-top",context:b}):null,_=R>0?n.createElement(x,{height:R,key:"padding-bottom",context:b}):null,z=e.items.map((e=>{const t=e.originalIndex,o=y(t+C,e.data,b);return T?n.createElement(v,{...Ot(v,b),key:o,index:e.index,height:e.size,type:e.type||"item"}):n.createElement(w,{...Ot(w,b),key:o,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,item:e.data,style:{overflowAnchor:"none"}},c(e.index,e.data,b))}));return n.createElement(I,{ref:f,"data-test-id":"virtuoso-item-list",...Ot(I,b)},[k,...z,_])})),Ho=({children:e})=>{const t=n.useContext(Tt),o=zo("viewportHeight"),r=zo("fixedItemHeight"),i=K(l(o,(e=>Y(e,"height"))));return n.useEffect((()=>{t&&(o(t.viewportHeight),r(t.itemHeight))}),[t,o,r]),n.createElement("div",{style:zt,ref:i,"data-viewport-type":"element"},e)},Ro=({children:e})=>{const t=n.useContext(Tt),o=zo("windowViewportRect"),r=zo("fixedItemHeight"),i=Bo("customScrollParent"),l=yt(o,i);return n.useEffect((()=>{t&&(r(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,o,r]),n.createElement("div",{ref:l,style:zt,"data-viewport-type":"window"},e)},ko=n.memo((function(e){const t=Bo("useWindowScroll"),o=Bo("customScrollParent"),r=zo("fixedHeaderHeight"),i=zo("fixedFooterHeight"),s=Bo("fixedHeaderContent"),c=Bo("fixedFooterContent"),u=Bo("context"),a=K(l(r,(e=>Y(e,"height")))),d=K(l(i,(e=>Y(e,"height")))),f=o||t?Po:Lo,m=o||t?Ro:Ho,h=Bo("TableComponent"),p=Bo("TableHeadComponent"),g=Bo("TableFooterComponent"),v=s?n.createElement(p,{key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:a,...Ot(p,u)},s()):null,x=c?n.createElement(g,{key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:d,...Ot(g,u)},c()):null;return n.createElement(f,{...e},n.createElement(m,null,n.createElement(h,{style:{borderSpacing:0},...Ot(h,u)},[v,n.createElement(bo,{key:"TableBody"}),x])))})),{Component:_o,usePublisher:zo,useEmitterValue:Bo,useEmitter:Oo}=V(So,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},ko),Lo=jt({usePublisher:zo,useEmitterValue:Bo,useEmitter:Oo}),Po=Ft({usePublisher:zo,useEmitterValue:Bo,useEmitter:Oo})}}]);